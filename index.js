!function t(n,e,i){function r(s,a){if(!e[s]){if(!n[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[s]={exports:{}};n[s][0].call(l.exports,function(t){var e=n[s][1][t];return r(e?e:t)},l,l.exports,t,n,e,i)}return e[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,n,e){"use strict";function i(){l=h.parse(window.location.hash.slice(1));var t;if("set"in l)t=l.set;else{t=p(8),l.set=t;var n=location.protocol+"//"+location.host+location.pathname+"#"+h.stringify(l);console.log(n)}a=d({random:y(t)}),u=v({scrollDuration:l.scrollDuration||45e3,easingFnName:l.easing}),r()}function r(){function t(){u.scrollTo({targetY:c[1]})}var n,e;l.glitchMode||!c?(n=2+a.roll(b-4),e=2):(n=c[0],e=c[1]),w=w.concat(s({numberOfFlights:10,boardWidth:b,startX:n,startY:e})),c=_({flightSpecs:w,leftLimit:g,rightLimit:b,floorWidth:b>480?4:2}),x&&(m?(m=!1,setTimeout(t,3e3)):t())}function o(){x=!x,x?u.scrollTo({targetY:c[1]}):u.stopScroll()}function s(t){for(var n,e=t.numberOfFlights,i=t.boardWidth,r=t.startX,o=t.startY,s=0,u=[],c=0;c<e;++c){var l=a.rollDie(i),h=~~(l/2)+a.roll(l),f={id:p(4),vector:[l,h],floorAtTop:0===a.roll(4),startHorizontally:!0};if(0===c)f.overrideStartX=r,f.overrideStartY=o;else if(0===a.roll(3)){var _=0===a.roll(2)?1:-1;f.overrideStartX=s+_*a.roll(i/4),f.floorAtTop=!0}f.stepWidth=f.vector[0]/(5+a.roll(6)+a.roll(6)),f.stepHeight=f.vector[1]/(5+a.roll(6)+a.roll(6)),n&&(n.vector[0]>0&&(f.vector[0]*=-1),s+f.vector[0]>i?f.vector[0]=i-s:s+f.vector[0]<g&&(f.vector[0]=g-s),f.startHorizontally=0===a.roll(2)),u.push(f),n=f,s+=n.vector[0]}return u}var a,u,c,l,h=t("qs"),f=t("./representers/wire-events"),_=t("./representers/render-stairs"),p=t("idmaker").randomId,y=t("./browser-seedrandom"),d=t("probable").createProbable,v=t("./representers/auto-scroll"),x=!0,m=!0,g=0,b=document.getElementById("board").getBoundingClientRect().width,w=[];!function(){window.onhashchange=i,i(),f({onScrolledToBottom:r,onMouseMove:u.stopScroll,onClick:o,onKeyUp:o})}()},{"./browser-seedrandom":2,"./representers/auto-scroll":18,"./representers/render-stairs":19,"./representers/wire-events":20,idmaker:9,probable:11,qs:13}],2:[function(t,n,e){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){function r(n,i,r){var h=[];i=1==i?{entropy:!0}:i||{};var p=u(a(i.entropy?[n,l(t)]:null==n?c():n,3),h),m=new o(h),g=function(){for(var t=m.g(_),n=d,e=0;t<v;)t=(t+e)*f,n*=f,e=m.g(1);for(;t>=x;)t/=2,n/=2,e>>>=1;return(t+e)/n};return g.int32=function(){return 0|m.g(4)},g.quick=function(){return m.g(4)/4294967296},g.double=g,u(l(m.S),t),(i.pass||r||function(t,n,i,r){return r&&(r.S&&s(r,m),t.state=function(){return s(m,{})}),i?(e[y]=t,n):t})(g,p,"global"in i?i.global:this==e,i.state)}function o(t){var n,e=t.length,i=this,r=0,o=i.i=i.j=0,s=i.S=[];for(e||(t=[e++]);r<f;)s[r]=r++;for(r=0;r<f;r++)s[r]=s[o=m&o+t[r%e]+(n=s[r])],s[o]=n;(i.g=function(t){for(var n,e=0,r=i.i,o=i.j,s=i.S;t--;)n=s[r=m&r+1],e=e*f+s[m&(s[r]=s[o=m&o+n])+(s[o]=n)];return i.i=r,i.j=o,e})(f)}function s(t,n){return n.i=t.i,n.j=t.j,n.S=t.S.slice(),n}function a(t,n){var e,r=[],o="undefined"==typeof t?"undefined":i(t);if(n&&"object"==o)for(e in t)try{r.push(a(t[e],n-1))}catch(t){}return r.length?r:"string"==o?t:t+"\0"}function u(t,n){for(var e,i=t+"",r=0;r<i.length;)n[m&r]=m&(e^=19*n[m&r])+i.charCodeAt(r++);return l(n)}function c(){try{var n=new Uint8Array(f);return(h.crypto||h.msCrypto).getRandomValues(n),l(n)}catch(n){var e=h.navigator,i=e&&e.plugins;return[+new Date,h,i,h.screen,l(t)]}}function l(t){return String.fromCharCode.apply(0,t)}var h=this,f=256,_=6,p=52,y="random",d=e.pow(f,_),v=e.pow(2,p),x=2*v,m=f-1;e["seed"+y]=r,u(e.random(),t),"object"==("undefined"==typeof n?"undefined":i(n))&&n.exports?n.exports=r:"function"==typeof define&&define.amd&&define(function(){return r})}([],Math)},{}],3:[function(t,n,e){function i(t){var n="id";return t&&"string"==typeof t&&(n=t),function(t){return t[n]}}"object"==typeof n&&"object"==typeof n.exports&&(n.exports=i)},{}],4:[function(t,n,e){!function(t,i){"object"==typeof e&&"undefined"!=typeof n?i(e):"function"==typeof define&&define.amd?define(["exports"],i):i(t.d3=t.d3||{})}(this,function(t){"use strict";function n(t){return+t}function e(t){return t*t}function i(t){return t*(2-t)}function r(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function o(t){return t*t*t}function s(t){return--t*t*t+1}function a(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function u(t){return 1-Math.cos(t*A)}function c(t){return Math.sin(t*A)}function l(t){return(1-Math.cos(T*t))/2}function h(t){return Math.pow(2,10*t-10)}function f(t){return 1-Math.pow(2,-10*t)}function _(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function p(t){return 1-Math.sqrt(1-t*t)}function y(t){return Math.sqrt(1- --t*t)}function d(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function v(t){return 1-x(1-t)}function x(t){return(t=+t)<S?q*t*t:t<O?q*(t-=j)*t+E:t<k?q*(t-=N)*t+P:q*(t-=C)*t+L}function m(t){return((t*=2)<=1?1-x(1-t):x(t-1)+1)/2}var g=3,b=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(g),w=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(g),M=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(g),T=Math.PI,A=T/2,S=4/11,j=6/11,O=8/11,E=.75,N=9/11,k=10/11,P=.9375,C=21/22,L=63/64,q=1/S/S,I=1.70158,R=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(I),D=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(I),B=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(I),F=2*Math.PI,z=1,H=.3,Y=function t(n,e){function i(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/e)}var r=Math.asin(1/(n=Math.max(1,n)))*(e/=F);return i.amplitude=function(n){return t(n,e*F)},i.period=function(e){return t(n,e)},i}(z,H),U=function t(n,e){function i(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/e)}var r=Math.asin(1/(n=Math.max(1,n)))*(e/=F);return i.amplitude=function(n){return t(n,e*F)},i.period=function(e){return t(n,e)},i}(z,H),X=function t(n,e){function i(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/e))/2}var r=Math.asin(1/(n=Math.max(1,n)))*(e/=F);return i.amplitude=function(n){return t(n,e*F)},i.period=function(e){return t(n,e)},i}(z,H);t.easeLinear=n,t.easeQuad=r,t.easeQuadIn=e,t.easeQuadOut=i,t.easeQuadInOut=r,t.easeCubic=a,t.easeCubicIn=o,t.easeCubicOut=s,t.easeCubicInOut=a,t.easePoly=M,t.easePolyIn=b,t.easePolyOut=w,t.easePolyInOut=M,t.easeSin=l,t.easeSinIn=u,t.easeSinOut=c,t.easeSinInOut=l,t.easeExp=_,t.easeExpIn=h,t.easeExpOut=f,t.easeExpInOut=_,t.easeCircle=d,t.easeCircleIn=p,t.easeCircleOut=y,t.easeCircleInOut=d,t.easeBounce=x,t.easeBounceIn=v,t.easeBounceOut=x,t.easeBounceInOut=m,t.easeBack=B,t.easeBackIn=R,t.easeBackOut=D,t.easeBackInOut=B,t.easeElastic=U,t.easeElasticIn=Y,t.easeElasticOut=U,t.easeElasticInOut=X,Object.defineProperty(t,"__esModule",{value:!0})})},{}],5:[function(t,n,e){!function(t,i){"object"==typeof e&&"undefined"!=typeof n?i(e):"function"==typeof define&&define.amd?define(["exports"],i):i(t.d3=t.d3||{})}(this,function(t){"use strict";function n(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function e(){return new n}var i=Math.PI,r=2*i,o=1e-6,s=r-o;n.prototype=e.prototype={constructor:n,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,i){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+i)},bezierCurveTo:function(t,n,e,i,r,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,n,e,r,s){t=+t,n=+n,e=+e,r=+r,s=+s;var a=this._x1,u=this._y1,c=e-t,l=r-n,h=a-t,f=u-n,_=h*h+f*f;if(s<0)throw new Error("negative radius: "+s);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(_>o)if(Math.abs(f*c-l*h)>o&&s){var p=e-a,y=r-u,d=c*c+l*l,v=p*p+y*y,x=Math.sqrt(d),m=Math.sqrt(_),g=s*Math.tan((i-Math.acos((d+_-v)/(2*x*m)))/2),b=g/m,w=g/x;Math.abs(b-1)>o&&(this._+="L"+(t+b*h)+","+(n+b*f)),this._+="A"+s+","+s+",0,0,"+ +(f*p>h*y)+","+(this._x1=t+w*c)+","+(this._y1=n+w*l)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,a,u,c){t=+t,n=+n,e=+e;var l=e*Math.cos(a),h=e*Math.sin(a),f=t+l,_=n+h,p=1^c,y=c?a-u:u-a;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+f+","+_:(Math.abs(this._x1-f)>o||Math.abs(this._y1-_)>o)&&(this._+="L"+f+","+_),e&&(y>s?this._+="A"+e+","+e+",0,1,"+p+","+(t-l)+","+(n-h)+"A"+e+","+e+",0,1,"+p+","+(this._x1=f)+","+(this._y1=_):(y<0&&(y=y%r+r),this._+="A"+e+","+e+",0,"+ +(y>=i)+","+p+","+(this._x1=t+e*Math.cos(u))+","+(this._y1=n+e*Math.sin(u))))},rect:function(t,n,e,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +i+"h"+-e+"Z"},toString:function(){return this._}},t.path=e,Object.defineProperty(t,"__esModule",{value:!0})})},{}],6:[function(t,n,e){!function(t,i){"object"==typeof e&&"undefined"!=typeof n?i(e):"function"==typeof define&&define.amd?define(["exports"],i):i(t.d3=t.d3||{})}(this,function(t){"use strict";function n(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Z&&n.documentElement.namespaceURI===Z?n.createElement(t):n.createElementNS(e,t)}}function e(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function i(){return new r}function r(){this._="@"+(++et).toString(36)}function o(t,n,e){return t=s(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function s(n,e,i){return function(r){var o=t.event;t.event=r;try{n.call(this,this.__data__,e,i)}finally{t.event=o}}}function a(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}function u(t){return function(){var n=this.__on;if(n){for(var e,i=0,r=-1,o=n.length;i<o;++i)e=n[i],t.type&&e.type!==t.type||e.name!==t.name?n[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?n.length=r:delete this.__on}}}function c(t,n,e){var i=at.hasOwnProperty(t.type)?o:s;return function(r,o,s){var a,u=this.__on,c=i(n,o,s);if(u)for(var l=0,h=u.length;l<h;++l)if((a=u[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=e),void(a.value=n);this.addEventListener(t.type,c,e),a={type:t.type,name:t.name,value:n,listener:c,capture:e},u?u.push(a):this.__on=[a]}}function l(n,e,i,r){var o=t.event;n.sourceEvent=t.event,t.event=n;try{return e.apply(i,r)}finally{t.event=o}}function h(){}function f(){return[]}function _(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function p(t,n,e,i,r,o){for(var s,a=0,u=n.length,c=o.length;a<c;++a)(s=n[a])?(s.__data__=o[a],i[a]=s):e[a]=new _(t,o[a]);for(;a<u;++a)(s=n[a])&&(r[a]=s)}function y(t,n,e,i,r,o,s){var a,u,c,l={},h=n.length,f=o.length,p=new Array(h);for(a=0;a<h;++a)(u=n[a])&&(p[a]=c=bt+s.call(u,u.__data__,a,n),c in l?r[a]=u:l[c]=u);for(a=0;a<f;++a)c=bt+s.call(t,o[a],a,o),(u=l[c])?(i[a]=u,u.__data__=o[a],l[c]=null):e[a]=new _(t,o[a]);for(a=0;a<h;++a)(u=n[a])&&l[p[a]]===u&&(r[a]=u)}function d(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function v(t){return function(){this.removeAttribute(t)}}function x(t){return function(){this.removeAttributeNS(t.space,t.local)}}function m(t,n){return function(){this.setAttribute(t,n)}}function g(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function b(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function w(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function M(t){return function(){this.style.removeProperty(t)}}function T(t,n,e){return function(){this.style.setProperty(t,n,e)}}function A(t,n,e){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function S(t){return function(){delete this[t]}}function j(t,n){return function(){this[t]=n}}function O(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function E(t){return t.trim().split(/^|\s+/)}function N(t){return t.classList||new k(t)}function k(t){this._node=t,this._names=E(t.getAttribute("class")||"")}function P(t,n){for(var e=N(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function C(t,n){for(var e=N(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function L(t){return function(){P(this,t)}}function q(t){return function(){C(this,t)}}function I(t,n){return function(){(n.apply(this,arguments)?P:C)(this,t)}}function R(){this.textContent=""}function D(t){return function(){this.textContent=t}}function B(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function F(){this.innerHTML=""}function z(t){return function(){this.innerHTML=t}}function H(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Y(){this.nextSibling&&this.parentNode.appendChild(this)}function U(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function X(){return null}function W(){var t=this.parentNode;t&&t.removeChild(this)}function V(t,n,e){var i=Lt(t),r=i.CustomEvent;r?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function $(t,n){return function(){return V(this,t,n)}}function Q(t,n){return function(){return V(this,t,n.apply(this,arguments))}}function G(t,n){this._groups=t,this._parents=n}function K(){return new G([[document.documentElement]],Vt)}var Z="http://www.w3.org/1999/xhtml",J={svg:"http://www.w3.org/2000/svg",xhtml:Z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},tt=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),J.hasOwnProperty(n)?{space:J[n],local:t}:t},nt=function(t){var i=tt(t);return(i.local?e:n)(i)},et=0;r.prototype=i.prototype={constructor:r,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var it=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var rt=document.documentElement;if(!rt.matches){var ot=rt.webkitMatchesSelector||rt.msMatchesSelector||rt.mozMatchesSelector||rt.oMatchesSelector;it=function(t){return function(){return ot.call(this,t)}}}}var st=it,at={};if(t.event=null,"undefined"!=typeof document){var ut=document.documentElement;"onmouseenter"in ut||(at={mouseenter:"mouseover",mouseleave:"mouseout"})}var ct=function(t,n,e){var i,r,o=a(t+""),s=o.length;{if(!(arguments.length<2)){for(l=n?c:u,null==e&&(e=!1),i=0;i<s;++i)this.each(l(o[i],n,e));return this}var l=this.node().__on;if(l)for(var h,f=0,_=l.length;f<_;++f)for(i=0,h=l[f];i<s;++i)if((r=o[i]).type===h.type&&r.name===h.name)return h.value}},lt=function(){for(var n,e=t.event;n=e.sourceEvent;)e=n;return e},ht=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop]},ft=function(t){var n=lt();return n.changedTouches&&(n=n.changedTouches[0]),ht(t,n)},_t=function(t){return null==t?h:function(){return this.querySelector(t)}},pt=function(t){"function"!=typeof t&&(t=_t(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o,s,a=n[r],u=a.length,c=i[r]=new Array(u),l=0;l<u;++l)(o=a[l])&&(s=t.call(o,o.__data__,l,a))&&("__data__"in o&&(s.__data__=o.__data__),c[l]=s);return new G(i,this._parents)},yt=function(t){return null==t?f:function(){return this.querySelectorAll(t)}},dt=function(t){"function"!=typeof t&&(t=yt(t));for(var n=this._groups,e=n.length,i=[],r=[],o=0;o<e;++o)for(var s,a=n[o],u=a.length,c=0;c<u;++c)(s=a[c])&&(i.push(t.call(s,s.__data__,c,a)),r.push(s));return new G(i,r)},vt=function(t){"function"!=typeof t&&(t=st(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o,s=n[r],a=s.length,u=i[r]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&u.push(o);return new G(i,this._parents)},xt=function(t){return new Array(t.length)},mt=function(){return new G(this._enter||this._groups.map(xt),this._parents)};_.prototype={constructor:_,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var gt=function(t){return function(){return t}},bt="$",wt=function(t,n){if(!t)return _=new Array(this.size()),c=-1,this.each(function(t){_[++c]=t}),_;var e=n?y:p,i=this._parents,r=this._groups;"function"!=typeof t&&(t=gt(t));for(var o=r.length,s=new Array(o),a=new Array(o),u=new Array(o),c=0;c<o;++c){var l=i[c],h=r[c],f=h.length,_=t.call(l,l&&l.__data__,c,i),d=_.length,v=a[c]=new Array(d),x=s[c]=new Array(d),m=u[c]=new Array(f);e(l,h,v,x,m,_,n);for(var g,b,w=0,M=0;w<d;++w)if(g=v[w]){for(w>=M&&(M=w+1);!(b=x[M])&&++M<d;);g._next=b||null}}return s=new G(s,i),s._enter=a,s._exit=u,s},Mt=function(){return new G(this._exit||this._groups.map(xt),this._parents)},Tt=function(t){for(var n=this._groups,e=t._groups,i=n.length,r=e.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var u,c=n[a],l=e[a],h=c.length,f=s[a]=new Array(h),_=0;_<h;++_)(u=c[_]||l[_])&&(f[_]=u);for(;a<i;++a)s[a]=n[a];return new G(s,this._parents)},At=function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i,r=t[n],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},St=function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=d);for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var s,a=e[o],u=a.length,c=r[o]=new Array(u),l=0;l<u;++l)(s=a[l])&&(c[l]=s);c.sort(n)}return new G(r,this._parents).order()},jt=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Ot=function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},Et=function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},Nt=function(){var t=0;return this.each(function(){++t}),t},kt=function(){return!this.node()},Pt=function(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r,o=n[e],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},Ct=function(t,n){var e=tt(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==n?e.local?x:v:"function"==typeof n?e.local?w:b:e.local?g:m)(e,n))},Lt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},qt=function(t,n,e){var i;return arguments.length>1?this.each((null==n?M:"function"==typeof n?A:T)(t,n,null==e?"":e)):Lt(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},It=function(t,n){return arguments.length>1?this.each((null==n?S:"function"==typeof n?O:j)(t,n)):this.node()[t]};k.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Rt=function(t,n){var e=E(t+"");if(arguments.length<2){for(var i=N(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof n?I:n?L:q)(e,n))},Dt=function(t){return arguments.length?this.each(null==t?R:("function"==typeof t?B:D)(t)):this.node().textContent},Bt=function(t){return arguments.length?this.each(null==t?F:("function"==typeof t?H:z)(t)):this.node().innerHTML},Ft=function(){return this.each(Y)},zt=function(){return this.each(U)},Ht=function(t){var n="function"==typeof t?t:nt(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},Yt=function(t,n){var e="function"==typeof t?t:nt(t),i=null==n?X:"function"==typeof n?n:_t(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},Ut=function(){return this.each(W)},Xt=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Wt=function(t,n){return this.each(("function"==typeof n?Q:$)(t,n))},Vt=[null];G.prototype=K.prototype={constructor:G,select:pt,selectAll:dt,filter:vt,data:wt,enter:mt,exit:Mt,merge:Tt,order:At,sort:St,call:jt,nodes:Ot,node:Et,size:Nt,empty:kt,each:Pt,attr:Ct,style:qt,property:It,classed:Rt,text:Dt,html:Bt,raise:Ft,lower:zt,append:Ht,insert:Yt,remove:Ut,datum:Xt,on:ct,dispatch:Wt};var $t=function(t){return"string"==typeof t?new G([[document.querySelector(t)]],[document.documentElement]):new G([[t]],Vt)},Qt=function(t){return"string"==typeof t?new G([document.querySelectorAll(t)],[document.documentElement]):new G([null==t?[]:t],Vt)},Gt=function(t,n,e){arguments.length<3&&(e=n,n=lt().changedTouches);for(var i,r=0,o=n?n.length:0;r<o;++r)if((i=n[r]).identifier===e)return ht(t,i);return null},Kt=function(t,n){null==n&&(n=lt().touches);for(var e=0,i=n?n.length:0,r=new Array(i);e<i;++e)r[e]=ht(t,n[e]);return r};t.creator=nt,t.local=i,t.matcher=st,t.mouse=ft,t.namespace=tt,t.namespaces=J,t.select=$t,t.selectAll=Qt,t.selection=K,t.selector=_t,t.selectorAll=yt,t.touch=Gt,t.touches=Kt,t.window=Lt,t.customEvent=l,Object.defineProperty(t,"__esModule",{value:!0})})},{}],7:[function(t,n,e){!function(i,r){"object"==typeof e&&"undefined"!=typeof n?r(e,t("d3-path")):"function"==typeof define&&define.amd?define(["exports","d3-path"],r):r(i.d3=i.d3||{},i.d3)}(this,function(t,n){"use strict";function e(t){return t.innerRadius}function i(t){return t.outerRadius}function r(t){return t.startAngle}function o(t){return t.endAngle}function s(t){return t&&t.padAngle}function a(t){return t>=1?Q:t<=-1?-Q:Math.asin(t)}function u(t,n,e,i,r,o,s,a){var u=e-t,c=i-n,l=s-r,h=a-o,f=(l*(n-o)-h*(t-r))/(h*u-l*c);return[t+f*u,n+f*c]}function c(t,n,e,i,r,o,s){var a=t-e,u=n-i,c=(s?o:-o)/Math.sqrt(a*a+u*u),l=c*u,h=-c*a,f=t+l,_=n+h,p=e+l,y=i+h,d=(f+p)/2,v=(_+y)/2,x=p-f,m=y-_,g=x*x+m*m,b=r-o,w=f*y-p*_,M=(m<0?-1:1)*Math.sqrt(Math.max(0,b*b*g-w*w)),T=(w*m-x*M)/g,A=(-w*x-m*M)/g,S=(w*m+x*M)/g,j=(-w*x+m*M)/g,O=T-d,E=A-v,N=S-d,k=j-v;return O*O+E*E>N*N+k*k&&(T=S,A=j),{cx:T,cy:A,x01:-l,y01:-h,x11:T*(r/b-1),y11:A*(r/b-1)}}function l(t){this._context=t}function h(t){return t[0]}function f(t){return t[1]}function _(t){this._curve=t}function p(t){function n(n){return new _(t(n))}return n._curve=t,n}function y(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(p(t)):n()._curve},t}function d(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function v(t){this._context=t}function x(t){this._context=t}function m(t){this._context=t}function g(t,n){this._basis=new v(t),this._beta=n}function b(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function w(t,n){this._context=t,this._k=(1-n)/6}function M(t,n){this._context=t,this._k=(1-n)/6}function T(t,n){this._context=t,this._k=(1-n)/6}function A(t,n,e){var i=t._x1,r=t._y1,o=t._x2,s=t._y2;if(t._l01_a>V){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>V){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-n*t._l12_2a)/l,s=(s*c+t._y1*t._l23_2a-e*t._l12_2a)/l}t._context.bezierCurveTo(i,r,o,s,t._x2,t._y2)}function S(t,n){this._context=t,this._alpha=n}function j(t,n){this._context=t,this._alpha=n}function O(t,n){this._context=t,this._alpha=n}function E(t){this._context=t}function N(t){return t<0?-1:1}function k(t,n,e){var i=t._x1-t._x0,r=n-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),s=(e-t._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(N(o)+N(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function P(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function C(t,n,e){var i=t._x0,r=t._y0,o=t._x1,s=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*n,o-a,s-a*e,o,s)}function L(t){this._context=t}function q(t){this._context=new I(t)}function I(t){this._context=t}function R(t){return new L(t)}function D(t){return new q(t)}function B(t){this._context=t}function F(t){var n,e,i=t.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],n=1;n<i-1;++n)r[n]=1,o[n]=4,s[n]=4*t[n]+2*t[n+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*t[i-1]+t[i],n=1;n<i;++n)e=r[n]/o[n-1],o[n]-=e,s[n]-=e*s[n-1];for(r[i-1]=s[i-1]/o[i-1],n=i-2;n>=0;--n)r[n]=(s[n]-r[n+1])/o[n];for(o[i-1]=(t[i]+r[i-1])/2,n=0;n<i-1;++n)o[n]=2*t[n+1]-r[n+1];return[r,o]}function z(t,n){this._context=t,this._t=n}function H(t){return new z(t,0)}function Y(t){return new z(t,1)}function U(t,n){return t[n]}function X(t){for(var n,e=0,i=-1,r=t.length;++i<r;)(n=+t[i][1])&&(e+=n);return e}var W=function(t){return function(){return t}},V=1e-12,$=Math.PI,Q=$/2,G=2*$,K=function(){function t(){var t,e,i=+l.apply(this,arguments),r=+h.apply(this,arguments),o=p.apply(this,arguments)-Q,s=y.apply(this,arguments)-Q,x=Math.abs(s-o),m=s>o;if(v||(v=t=n.path()),r<i&&(e=r,r=i,i=e),r>V)if(x>G-V)v.moveTo(r*Math.cos(o),r*Math.sin(o)),v.arc(0,0,r,o,s,!m),i>V&&(v.moveTo(i*Math.cos(s),i*Math.sin(s)),v.arc(0,0,i,s,o,m));else{var g,b,w=o,M=s,T=o,A=s,S=x,j=x,O=d.apply(this,arguments)/2,E=O>V&&(_?+_.apply(this,arguments):Math.sqrt(i*i+r*r)),N=Math.min(Math.abs(r-i)/2,+f.apply(this,arguments)),k=N,P=N;if(E>V){var C=a(E/i*Math.sin(O)),L=a(E/r*Math.sin(O));(S-=2*C)>V?(C*=m?1:-1,T+=C,A-=C):(S=0,T=A=(o+s)/2),(j-=2*L)>V?(L*=m?1:-1,w+=L,M-=L):(j=0,w=M=(o+s)/2)}var q=r*Math.cos(w),I=r*Math.sin(w),R=i*Math.cos(A),D=i*Math.sin(A);if(N>V){var B=r*Math.cos(M),F=r*Math.sin(M),z=i*Math.cos(T),H=i*Math.sin(T);if(x<$){var Y=S>V?u(q,I,z,H,B,F,R,D):[R,D],U=q-Y[0],X=I-Y[1],W=B-Y[0],K=F-Y[1],Z=1/Math.sin(Math.acos((U*W+X*K)/(Math.sqrt(U*U+X*X)*Math.sqrt(W*W+K*K)))/2),J=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]);k=Math.min(N,(i-J)/(Z-1)),P=Math.min(N,(r-J)/(Z+1))}}j>V?P>V?(g=c(z,H,q,I,r,P,m),b=c(B,F,R,D,r,P,m),v.moveTo(g.cx+g.x01,g.cy+g.y01),P<N?v.arc(g.cx,g.cy,P,Math.atan2(g.y01,g.x01),Math.atan2(b.y01,b.x01),!m):(v.arc(g.cx,g.cy,P,Math.atan2(g.y01,g.x01),Math.atan2(g.y11,g.x11),!m),v.arc(0,0,r,Math.atan2(g.cy+g.y11,g.cx+g.x11),Math.atan2(b.cy+b.y11,b.cx+b.x11),!m),v.arc(b.cx,b.cy,P,Math.atan2(b.y11,b.x11),Math.atan2(b.y01,b.x01),!m))):(v.moveTo(q,I),v.arc(0,0,r,w,M,!m)):v.moveTo(q,I),i>V&&S>V?k>V?(g=c(R,D,B,F,i,-k,m),b=c(q,I,z,H,i,-k,m),v.lineTo(g.cx+g.x01,g.cy+g.y01),k<N?v.arc(g.cx,g.cy,k,Math.atan2(g.y01,g.x01),Math.atan2(b.y01,b.x01),!m):(v.arc(g.cx,g.cy,k,Math.atan2(g.y01,g.x01),Math.atan2(g.y11,g.x11),!m),v.arc(0,0,i,Math.atan2(g.cy+g.y11,g.cx+g.x11),Math.atan2(b.cy+b.y11,b.cx+b.x11),m),v.arc(b.cx,b.cy,k,Math.atan2(b.y11,b.x11),Math.atan2(b.y01,b.x01),!m))):v.arc(0,0,i,A,T,m):v.lineTo(R,D)}else v.moveTo(0,0);if(v.closePath(),t)return v=null,t+""||null}var l=e,h=i,f=W(0),_=null,p=r,y=o,d=s,v=null;return t.centroid=function(){var t=(+l.apply(this,arguments)+ +h.apply(this,arguments))/2,n=(+p.apply(this,arguments)+ +y.apply(this,arguments))/2-$/2;return[Math.cos(n)*t,Math.sin(n)*t]},t.innerRadius=function(n){return arguments.length?(l="function"==typeof n?n:W(+n),t):l},t.outerRadius=function(n){return arguments.length?(h="function"==typeof n?n:W(+n),t):h},t.cornerRadius=function(n){return arguments.length?(f="function"==typeof n?n:W(+n),t):f},t.padRadius=function(n){return arguments.length?(_=null==n?null:"function"==typeof n?n:W(+n),t):_},t.startAngle=function(n){return arguments.length?(p="function"==typeof n?n:W(+n),t):p},t.endAngle=function(n){return arguments.length?(y="function"==typeof n?n:W(+n),t):y},t.padAngle=function(n){return arguments.length?(d="function"==typeof n?n:W(+n),t):d},t.context=function(n){return arguments.length?(v=null==n?null:n,t):v},t};l.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var Z=function(t){return new l(t)},J=function(){function t(t){var u,c,l,h=t.length,f=!1;for(null==o&&(a=s(l=n.path())),u=0;u<=h;++u)!(u<h&&r(c=t[u],u,t))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(c,u,t),+i(c,u,t));if(l)return a=null,l+""||null}var e=h,i=f,r=W(!0),o=null,s=Z,a=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:W(+n),t):e},t.y=function(n){return arguments.length?(i="function"==typeof n?n:W(+n),t):i},t.defined=function(n){return arguments.length?(r="function"==typeof n?n:W(!!n),t):r},t.curve=function(n){return arguments.length?(s=n,null!=o&&(a=s(o)),t):s},t.context=function(n){return arguments.length?(null==n?o=a=null:a=s(o=n),t):o},t},tt=function(){function t(t){var e,h,f,_,p,y=t.length,d=!1,v=new Array(y),x=new Array(y);for(null==u&&(l=c(p=n.path())),e=0;e<=y;++e){if(!(e<y&&a(_=t[e],e,t))===d)if(d=!d)h=e,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=e-1;f>=h;--f)l.point(v[f],x[f]);l.lineEnd(),l.areaEnd()}d&&(v[e]=+i(_,e,t),x[e]=+o(_,e,t),l.point(r?+r(_,e,t):v[e],s?+s(_,e,t):x[e]))}if(p)return l=null,p+""||null}function e(){return J().defined(a).curve(c).context(u)}var i=h,r=null,o=W(0),s=f,a=W(!0),u=null,c=Z,l=null;return t.x=function(n){return arguments.length?(i="function"==typeof n?n:W(+n),r=null,t):i},t.x0=function(n){return arguments.length?(i="function"==typeof n?n:W(+n),t):i},t.x1=function(n){return arguments.length?(r=null==n?null:"function"==typeof n?n:W(+n),t):r},t.y=function(n){return arguments.length?(o="function"==typeof n?n:W(+n),s=null,t):o},t.y0=function(n){return arguments.length?(o="function"==typeof n?n:W(+n),t):o},t.y1=function(n){return arguments.length?(s=null==n?null:"function"==typeof n?n:W(+n),t):s},t.lineX0=t.lineY0=function(){return e().x(i).y(o)},t.lineY1=function(){return e().x(i).y(s)},t.lineX1=function(){return e().x(r).y(o)},t.defined=function(n){return arguments.length?(a="function"==typeof n?n:W(!!n),t):a},t.curve=function(n){return arguments.length?(c=n,null!=u&&(l=c(u)),t):c},t.context=function(n){return arguments.length?(null==n?u=l=null:l=c(u=n),t):u},t},nt=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},et=function(t){return t},it=function(){function t(t){var a,u,c,l,h,f=t.length,_=0,p=new Array(f),y=new Array(f),d=+r.apply(this,arguments),v=Math.min(G,Math.max(-G,o.apply(this,arguments)-d)),x=Math.min(Math.abs(v)/f,s.apply(this,arguments)),m=x*(v<0?-1:1);for(a=0;a<f;++a)(h=y[p[a]=a]=+n(t[a],a,t))>0&&(_+=h);
for(null!=e?p.sort(function(t,n){return e(y[t],y[n])}):null!=i&&p.sort(function(n,e){return i(t[n],t[e])}),a=0,c=_?(v-f*m)/_:0;a<f;++a,d=l)u=p[a],h=y[u],l=d+(h>0?h*c:0)+m,y[u]={data:t[u],index:a,value:h,startAngle:d,endAngle:l,padAngle:x};return y}var n=et,e=nt,i=null,r=W(0),o=W(G),s=W(0);return t.value=function(e){return arguments.length?(n="function"==typeof e?e:W(+e),t):n},t.sortValues=function(n){return arguments.length?(e=n,i=null,t):e},t.sort=function(n){return arguments.length?(i=n,e=null,t):i},t.startAngle=function(n){return arguments.length?(r="function"==typeof n?n:W(+n),t):r},t.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:W(+n),t):o},t.padAngle=function(n){return arguments.length?(s="function"==typeof n?n:W(+n),t):s},t},rt=p(Z);_.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var ot=function(){return y(J().curve(rt))},st=function(){var t=tt().curve(rt),n=t.curve,e=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return y(e())},delete t.lineX0,t.lineEndAngle=function(){return y(i())},delete t.lineX1,t.lineInnerRadius=function(){return y(r())},delete t.lineY0,t.lineOuterRadius=function(){return y(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(p(t)):n()._curve},t},at={draw:function(t,n){var e=Math.sqrt(n/$);t.moveTo(e,0),t.arc(0,0,e,0,G)}},ut={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},ct=Math.sqrt(1/3),lt=2*ct,ht={draw:function(t,n){var e=Math.sqrt(n/lt),i=e*ct;t.moveTo(0,-e),t.lineTo(i,0),t.lineTo(0,e),t.lineTo(-i,0),t.closePath()}},ft=.8908130915292852,_t=Math.sin($/10)/Math.sin(7*$/10),pt=Math.sin(G/10)*_t,yt=-Math.cos(G/10)*_t,dt={draw:function(t,n){var e=Math.sqrt(n*ft),i=pt*e,r=yt*e;t.moveTo(0,-e),t.lineTo(i,r);for(var o=1;o<5;++o){var s=G*o/5,a=Math.cos(s),u=Math.sin(s);t.lineTo(u*e,-a*e),t.lineTo(a*i-u*r,u*i+a*r)}t.closePath()}},vt={draw:function(t,n){var e=Math.sqrt(n),i=-e/2;t.rect(i,i,e,e)}},xt=Math.sqrt(3),mt={draw:function(t,n){var e=-Math.sqrt(n/(3*xt));t.moveTo(0,2*e),t.lineTo(-xt*e,-e),t.lineTo(xt*e,-e),t.closePath()}},gt=-.5,bt=Math.sqrt(3)/2,wt=1/Math.sqrt(12),Mt=3*(wt/2+1),Tt={draw:function(t,n){var e=Math.sqrt(n/Mt),i=e/2,r=e*wt,o=i,s=e*wt+e,a=-o,u=s;t.moveTo(i,r),t.lineTo(o,s),t.lineTo(a,u),t.lineTo(gt*i-bt*r,bt*i+gt*r),t.lineTo(gt*o-bt*s,bt*o+gt*s),t.lineTo(gt*a-bt*u,bt*a+gt*u),t.lineTo(gt*i+bt*r,gt*r-bt*i),t.lineTo(gt*o+bt*s,gt*s-bt*o),t.lineTo(gt*a+bt*u,gt*u-bt*a),t.closePath()}},At=[at,ut,ht,vt,dt,mt,Tt],St=function(){function t(){var t;if(r||(r=t=n.path()),e.apply(this,arguments).draw(r,+i.apply(this,arguments)),t)return r=null,t+""||null}var e=W(at),i=W(64),r=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:W(n),t):e},t.size=function(n){return arguments.length?(i="function"==typeof n?n:W(+n),t):i},t.context=function(n){return arguments.length?(r=null==n?null:n,t):r},t},jt=function(){};v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:d(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:d(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var Ot=function(t){return new v(t)};x.prototype={areaStart:jt,areaEnd:jt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:d(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var Et=function(t){return new x(t)};m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 3:this._point=4;default:d(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var Nt=function(t){return new m(t)};g.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var i,r=t[0],o=n[0],s=t[e]-r,a=n[e]-o,u=-1;++u<=e;)i=u/e,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*s),this._beta*n[u]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var kt=function t(n){function e(t){return 1===n?new v(t):new g(t,n)}return e.beta=function(n){return t(+n)},e}(.85);w.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:b(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:b(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Pt=function t(n){function e(t){return new w(t,n)}return e.tension=function(n){return t(+n)},e}(0);M.prototype={areaStart:jt,areaEnd:jt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:b(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Ct=function t(n){function e(t){return new M(t,n)}return e.tension=function(n){return t(+n)},e}(0);T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:b(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Lt=function t(n){function e(t){return new T(t,n)}return e.tension=function(n){return t(+n)},e}(0);S.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:A(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var qt=function t(n){function e(t){return n?new S(t,n):new w(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);j.prototype={areaStart:jt,areaEnd:jt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:A(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var It=function t(n){function e(t){return n?new j(t,n):new M(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:A(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Rt=function t(n){function e(t){return n?new O(t,n):new T(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);E.prototype={areaStart:jt,areaEnd:jt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};var Dt=function(t){return new E(t)};L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:C(this,this._t0,P(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,C(this,P(this,e=k(this,t,n)),e);break;default:C(this,this._t0,e=k(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(q.prototype=Object.create(L.prototype)).point=function(t,n){L.prototype.point.call(this,n,t)},I.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,i,r,o){this._context.bezierCurveTo(n,t,i,e,o,r)}},B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var i=F(t),r=F(n),o=0,s=1;s<e;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],n[s]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Bt=function(t){return new B(t)};z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var Ft=function(t){return new z(t,.5)},zt=Array.prototype.slice,Ht=function(t,n){if((i=t.length)>1)for(var e,i,r=1,o=t[n[0]],s=o.length;r<i;++r){e=o,o=t[n[r]];for(var a=0;a<s;++a)o[a][1]+=o[a][0]=isNaN(e[a][1])?e[a][0]:e[a][1]}},Yt=function(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e},Ut=function(){function t(t){var o,s,a=n.apply(this,arguments),u=t.length,c=a.length,l=new Array(c);for(o=0;o<c;++o){for(var h,f=a[o],_=l[o]=new Array(u),p=0;p<u;++p)_[p]=h=[0,+r(t[p],f,p,t)],h.data=t[p];_.key=f}for(o=0,s=e(l);o<c;++o)l[s[o]].index=o;return i(l,s),l}var n=W([]),e=Yt,i=Ht,r=U;return t.keys=function(e){return arguments.length?(n="function"==typeof e?e:W(zt.call(e)),t):n},t.value=function(n){return arguments.length?(r="function"==typeof n?n:W(+n),t):r},t.order=function(n){return arguments.length?(e=null==n?Yt:"function"==typeof n?n:W(zt.call(n)),t):e},t.offset=function(n){return arguments.length?(i=null==n?Ht:n,t):i},t},Xt=function(t,n){if((i=t.length)>0){for(var e,i,r,o=0,s=t[0].length;o<s;++o){for(r=e=0;e<i;++e)r+=t[e][o][1]||0;if(r)for(e=0;e<i;++e)t[e][o][1]/=r}Ht(t,n)}},Wt=function(t,n){if((e=t.length)>0){for(var e,i=0,r=t[n[0]],o=r.length;i<o;++i){for(var s=0,a=0;s<e;++s)a+=t[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}Ht(t,n)}},Vt=function(t,n){if((r=t.length)>0&&(i=(e=t[n[0]]).length)>0){for(var e,i,r,o=0,s=1;s<i;++s){for(var a=0,u=0,c=0;a<r;++a){for(var l=t[n[a]],h=l[s][1]||0,f=l[s-1][1]||0,_=(h-f)/2,p=0;p<a;++p){var y=t[n[p]],d=y[s][1]||0,v=y[s-1][1]||0;_+=d-v}u+=h,c+=_*h}e[s-1][1]+=e[s-1][0]=o,u&&(o-=c/u)}e[s-1][1]+=e[s-1][0]=o,Ht(t,n)}},$t=function(t){var n=t.map(X);return Yt(t).sort(function(t,e){return n[t]-n[e]})},Qt=function(t){return $t(t).reverse()},Gt=function(t){var n,e,i=t.length,r=t.map(X),o=Yt(t).sort(function(t,n){return r[n]-r[t]}),s=0,a=0,u=[],c=[];for(n=0;n<i;++n)e=o[n],s<a?(s+=r[e],u.push(e)):(a+=r[e],c.push(e));return c.reverse().concat(u)},Kt=function(t){return Yt(t).reverse()};t.arc=K,t.area=tt,t.line=J,t.pie=it,t.radialArea=st,t.radialLine=ot,t.symbol=St,t.symbols=At,t.symbolCircle=at,t.symbolCross=ut,t.symbolDiamond=ht,t.symbolSquare=vt,t.symbolStar=dt,t.symbolTriangle=mt,t.symbolWye=Tt,t.curveBasisClosed=Et,t.curveBasisOpen=Nt,t.curveBasis=Ot,t.curveBundle=kt,t.curveCardinalClosed=Ct,t.curveCardinalOpen=Lt,t.curveCardinal=Pt,t.curveCatmullRomClosed=It,t.curveCatmullRomOpen=Rt,t.curveCatmullRom=qt,t.curveLinearClosed=Dt,t.curveLinear=Z,t.curveMonotoneX=R,t.curveMonotoneY=D,t.curveNatural=Bt,t.curveStep=Ft,t.curveStepAfter=Y,t.curveStepBefore=H,t.stack=Ut,t.stackOffsetExpand=Xt,t.stackOffsetNone=Ht,t.stackOffsetSilhouette=Wt,t.stackOffsetWiggle=Vt,t.stackOrderAscending=$t,t.stackOrderDescending=Qt,t.stackOrderInsideOut=Gt,t.stackOrderNone=Yt,t.stackOrderReverse=Kt,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-path":5}],8:[function(t,n,e){!function(t,i){"object"==typeof e&&"undefined"!=typeof n?i(e):"function"==typeof define&&define.amd?define(["exports"],i):i(t.d3=t.d3||{})}(this,function(t){"use strict";function n(){return v||(g(e),v=m.now()+x)}function e(){v=0}function i(){this._call=this._time=this._next=null}function r(t,n,e){var r=new i;return r.restart(t,n,e),r}function o(){n(),++f;for(var t,e=l;e;)(t=v-e._time)>=0&&e._call.call(null,t),e=e._next;--f}function s(){v=(d=m.now())+x,f=_=0;try{o()}finally{f=0,u(),v=0}}function a(){var t=m.now(),n=t-d;n>y&&(x-=n,d=t)}function u(){for(var t,n,e=l,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:l=n);h=t,c(i)}function c(t){if(!f){_&&(_=clearTimeout(_));var n=t-v;n>24?(t<1/0&&(_=setTimeout(s,n)),p&&(p=clearInterval(p))):(p||(d=v,p=setInterval(a,y)),f=1,g(s))}}var l,h,f=0,_=0,p=0,y=1e3,d=0,v=0,x=0,m="object"==typeof performance&&performance.now?performance:Date,g="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};i.prototype=r.prototype={constructor:i,restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?n():+i)+(null==e?0:+e),this._next||h===this||(h?h._next=this:l=this,h=this),this._call=t,this._time=i,c()},stop:function(){this._call&&(this._call=null,this._time=1/0,c())}};var b=function(t,n,e){var r=new i;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r},w=function(t,e,r){var o=new i,s=e;return null==e?(o.restart(t,e,r),o):(e=+e,r=null==r?n():+r,o.restart(function n(i){i+=s,o.restart(n,s+=e,r),t(i)},e,r),o)};t.now=n,t.timer=r,t.timerFlush=o,t.timeout=b,t.interval=w,Object.defineProperty(t,"__esModule",{value:!0})})},{}],9:[function(t,n,e){function i(){function t(t){return t[~~(Math.random()*t.length)]}function n(n){for(var i="",r=0;r<n;++r)i+=t(e);return i}var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return{randomId:n}}"object"==typeof n&&"object"==typeof n.exports&&(n.exports=i())},{}],10:[function(t,n,e){(function(t){function i(t,n){return t.set(n[0],n[1]),t}function r(t,n){return t.add(n),t}function o(t,n){for(var e=-1,i=t?t.length:0;++e<i&&n(t[e],e,t)!==!1;);return t}function s(t,n){for(var e=-1,i=n.length,r=t.length;++e<i;)t[r+e]=n[e];return t}function a(t,n,e,i){var r=-1,o=t?t.length:0;for(i&&o&&(e=t[++r]);++r<o;)e=n(e,t[r],r,t);return e}function u(t,n){for(var e=-1,i=Array(t);++e<t;)i[e]=n(e);return i}function c(t,n){return null==t?void 0:t[n]}function l(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(t){}return n}function h(t){var n=-1,e=Array(t.size);return t.forEach(function(t,i){e[++n]=[i,t]}),e}function f(t,n){return function(e){return t(n(e))}}function _(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=t}),e}function p(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}function y(){this.__data__=Fn?Fn(null):{}}function d(t){return this.has(t)&&delete this.__data__[t]}function v(t){var n=this.__data__;if(Fn){var e=n[t];return e===Et?void 0:e}return wn.call(n,t)?n[t]:void 0}function x(t){var n=this.__data__;return Fn?void 0!==n[t]:wn.call(n,t)}function m(t,n){var e=this.__data__;return e[t]=Fn&&void 0===n?Et:n,this}function g(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}function b(){this.__data__=[]}function w(t){var n=this.__data__,e=F(n,t);if(e<0)return!1;var i=n.length-1;return e==i?n.pop():kn.call(n,e,1),!0}function M(t){var n=this.__data__,e=F(n,t);return e<0?void 0:n[e][1]}function T(t){return F(this.__data__,t)>-1}function A(t,n){var e=this.__data__,i=F(e,t);return i<0?e.push([t,n]):e[i][1]=n,this}function S(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}function j(){this.__data__={hash:new p,map:new(In||g),string:new p}}function O(t){return st(this,t).delete(t)}function E(t){return st(this,t).get(t)}function N(t){return st(this,t).has(t)}function k(t,n){return st(this,t).set(t,n),this}function P(t){this.__data__=new g(t)}function C(){this.__data__=new g}function L(t){return this.__data__.delete(t)}function q(t){return this.__data__.get(t)}function I(t){return this.__data__.has(t)}function R(t,n){var e=this.__data__;if(e instanceof g){var i=e.__data__;if(!In||i.length<Ot-1)return i.push([t,n]),this;e=this.__data__=new S(i)}return e.set(t,n),this}function D(t,n){var e=Gn(t)||xt(t)?u(t.length,String):[],i=e.length,r=!!i;for(var o in t)!n&&!wn.call(t,o)||r&&("length"==o||ht(o,i))||e.push(o);return e}function B(t,n,e){var i=t[n];wn.call(t,n)&&vt(i,e)&&(void 0!==e||n in t)||(t[n]=e)}function F(t,n){for(var e=t.length;e--;)if(vt(t[e][0],n))return e;return-1}function z(t,n){return t&&it(n,At(n),t)}function H(t,n,e,i,r,s,a){var u;if(i&&(u=s?i(t,r,s,a):i(t)),void 0!==u)return u;if(!Mt(t))return t;var c=Gn(t);if(c){if(u=ut(t),!n)return et(t,u)}else{var h=Qn(t),f=h==It||h==Rt;if(Kn(t))return $(t,n);if(h==Ft||h==kt||f&&!s){if(l(t))return s?t:{};if(u=ct(f?{}:t),!n)return rt(t,z(u,t))}else{if(!cn[h])return s?t:{};u=lt(t,h,H,n)}}a||(a=new P);var _=a.get(t);if(_)return _;if(a.set(t,u),!c)var p=e?ot(t):At(t);return o(p||t,function(r,o){p&&(o=r,r=t[o]),B(u,o,H(r,n,e,i,o,t,a))}),u}function Y(t){return Mt(t)?En(t):{}}function U(t,n,e){var i=n(t);return Gn(t)?i:s(i,e(t))}function X(t){return Mn.call(t)}function W(t){if(!Mt(t)||_t(t))return!1;var n=bt(t)||l(t)?Tn:an;return n.test(yt(t))}function V(t){if(!pt(t))return Ln(t);var n=[];for(var e in Object(t))wn.call(t,e)&&"constructor"!=e&&n.push(e);return n}function $(t,n){if(n)return t.slice();var e=new t.constructor(t.length);return t.copy(e),e}function Q(t){var n=new t.constructor(t.byteLength);return new jn(n).set(new jn(t)),n}function G(t,n){var e=n?Q(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}function K(t,n,e){var r=n?e(h(t),!0):h(t);return a(r,i,new t.constructor)}function Z(t){var n=new t.constructor(t.source,sn.exec(t));return n.lastIndex=t.lastIndex,n}function J(t,n,e){var i=n?e(_(t),!0):_(t);return a(i,r,new t.constructor)}function tt(t){return Vn?Object(Vn.call(t)):{}}function nt(t,n){var e=n?Q(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function et(t,n){var e=-1,i=t.length;for(n||(n=Array(i));++e<i;)n[e]=t[e];return n}function it(t,n,e,i){e||(e={});for(var r=-1,o=n.length;++r<o;){var s=n[r],a=i?i(e[s],t[s],s,e,t):void 0;B(e,s,void 0===a?t[s]:a)}return e}function rt(t,n){return it(t,$n(t),n)}function ot(t){return U(t,At,$n)}function st(t,n){var e=t.__data__;return ft(n)?e["string"==typeof n?"string":"hash"]:e.map}function at(t,n){var e=c(t,n);return W(e)?e:void 0}function ut(t){var n=t.length,e=t.constructor(n);return n&&"string"==typeof t[0]&&wn.call(t,"index")&&(e.index=t.index,e.input=t.input),e}function ct(t){return"function"!=typeof t.constructor||pt(t)?{}:Y(On(t))}function lt(t,n,e,i){var r=t.constructor;switch(n){case Vt:return Q(t);case Ct:case Lt:return new r(+t);case $t:return G(t,i);case Qt:case Gt:case Kt:case Zt:case Jt:case tn:case nn:case en:case rn:return nt(t,i);case Dt:return K(t,i,e);case Bt:case Ut:return new r(t);case Ht:return Z(t);case Yt:return J(t,i,e);case Xt:return tt(t)}}function ht(t,n){return n=null==n?Nt:n,!!n&&("number"==typeof t||un.test(t))&&t>-1&&t%1==0&&t<n}function ft(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}function _t(t){return!!gn&&gn in t}function pt(t){var n=t&&t.constructor,e="function"==typeof n&&n.prototype||xn;return t===e}function yt(t){if(null!=t){try{return bn.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function dt(t){return H(t,!0,!0)}function vt(t,n){return t===n||t!==t&&n!==n}function xt(t){return gt(t)&&wn.call(t,"callee")&&(!Nn.call(t,"callee")||Mn.call(t)==kt)}function mt(t){return null!=t&&wt(t.length)&&!bt(t)}function gt(t){return Tt(t)&&mt(t)}function bt(t){var n=Mt(t)?Mn.call(t):"";return n==It||n==Rt}function wt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Nt}function Mt(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function Tt(t){return!!t&&"object"==typeof t}function At(t){return mt(t)?D(t):V(t)}function St(){return[]}function jt(){return!1}var Ot=200,Et="__lodash_hash_undefined__",Nt=9007199254740991,kt="[object Arguments]",Pt="[object Array]",Ct="[object Boolean]",Lt="[object Date]",qt="[object Error]",It="[object Function]",Rt="[object GeneratorFunction]",Dt="[object Map]",Bt="[object Number]",Ft="[object Object]",zt="[object Promise]",Ht="[object RegExp]",Yt="[object Set]",Ut="[object String]",Xt="[object Symbol]",Wt="[object WeakMap]",Vt="[object ArrayBuffer]",$t="[object DataView]",Qt="[object Float32Array]",Gt="[object Float64Array]",Kt="[object Int8Array]",Zt="[object Int16Array]",Jt="[object Int32Array]",tn="[object Uint8Array]",nn="[object Uint8ClampedArray]",en="[object Uint16Array]",rn="[object Uint32Array]",on=/[\\^$.*+?()[\]{}|]/g,sn=/\w*$/,an=/^\[object .+?Constructor\]$/,un=/^(?:0|[1-9]\d*)$/,cn={};cn[kt]=cn[Pt]=cn[Vt]=cn[$t]=cn[Ct]=cn[Lt]=cn[Qt]=cn[Gt]=cn[Kt]=cn[Zt]=cn[Jt]=cn[Dt]=cn[Bt]=cn[Ft]=cn[Ht]=cn[Yt]=cn[Ut]=cn[Xt]=cn[tn]=cn[nn]=cn[en]=cn[rn]=!0,cn[qt]=cn[It]=cn[Wt]=!1;var ln="object"==typeof t&&t&&t.Object===Object&&t,hn="object"==typeof self&&self&&self.Object===Object&&self,fn=ln||hn||Function("return this")(),_n="object"==typeof e&&e&&!e.nodeType&&e,pn=_n&&"object"==typeof n&&n&&!n.nodeType&&n,yn=pn&&pn.exports===_n,dn=Array.prototype,vn=Function.prototype,xn=Object.prototype,mn=fn["__core-js_shared__"],gn=function(){var t=/[^.]+$/.exec(mn&&mn.keys&&mn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),bn=vn.toString,wn=xn.hasOwnProperty,Mn=xn.toString,Tn=RegExp("^"+bn.call(wn).replace(on,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),An=yn?fn.Buffer:void 0,Sn=fn.Symbol,jn=fn.Uint8Array,On=f(Object.getPrototypeOf,Object),En=Object.create,Nn=xn.propertyIsEnumerable,kn=dn.splice,Pn=Object.getOwnPropertySymbols,Cn=An?An.isBuffer:void 0,Ln=f(Object.keys,Object),qn=at(fn,"DataView"),In=at(fn,"Map"),Rn=at(fn,"Promise"),Dn=at(fn,"Set"),Bn=at(fn,"WeakMap"),Fn=at(Object,"create"),zn=yt(qn),Hn=yt(In),Yn=yt(Rn),Un=yt(Dn),Xn=yt(Bn),Wn=Sn?Sn.prototype:void 0,Vn=Wn?Wn.valueOf:void 0;p.prototype.clear=y,p.prototype.delete=d,p.prototype.get=v,p.prototype.has=x,p.prototype.set=m,g.prototype.clear=b,g.prototype.delete=w,g.prototype.get=M,g.prototype.has=T,g.prototype.set=A,S.prototype.clear=j,S.prototype.delete=O,S.prototype.get=E,S.prototype.has=N,S.prototype.set=k,P.prototype.clear=C,P.prototype.delete=L,P.prototype.get=q,P.prototype.has=I,P.prototype.set=R;var $n=Pn?f(Pn,Object):St,Qn=X;(qn&&Qn(new qn(new ArrayBuffer(1)))!=$t||In&&Qn(new In)!=Dt||Rn&&Qn(Rn.resolve())!=zt||Dn&&Qn(new Dn)!=Yt||Bn&&Qn(new Bn)!=Wt)&&(Qn=function(t){var n=Mn.call(t),e=n==Ft?t.constructor:void 0,i=e?yt(e):void 0;if(i)switch(i){case zn:return $t;case Hn:return Dt;case Yn:return zt;case Un:return Yt;case Xn:return Wt}return n});var Gn=Array.isArray,Kn=Cn||jt;n.exports=dt}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(t,n,e){function i(t){function n(t){return Math.floor(w()*t)}function e(t){return 0===t?0:n(t)+1}function i(t){function e(t){return r(s,t)}function i(){var t=e(n(a));return"function"!=typeof t||"probable_rollOnTable"!==t.name&&"probable_pick"!==t.name?t:t()}function o(){return s}var s=t,a=s[s.length-1][0][1]-s[0][0][0]+1;return{outcomeAtIndex:e,roll:i,length:a,getRangesAndOutcomesArray:o}}function r(t,n){n=+n;for(var e=0;e<t.length;++e){var i=t[e],r=i[0];if(n>=r[0]&&n<=r[1])return i[1]}}function o(t){return i(s(t))}function s(t){var n=[],e=-1,i=a(t);return i=i.sort(u),i.forEach(function(t){var i=t[0],r=t[1],o=e+1,s=o+i-1;n.push([[o,s],r]),e=s}),n}function a(t){var n=[];for(var e in t){var i=t[e];n.push([i,e])}return n}function u(t,n){return t[0]>n[0]?-1:1}function c(t){var n=l(t);return i(n)}function l(t){var n=[];for(var e in t){var i=f(e),r=t[e];if("object"==typeof r)if(Array.isArray(r))r=v(r);else{var o=c(r);"function"==typeof o.roll&&(r=o.roll)}n.push([i,r])}return n.sort(h)}function h(t,n){return t[0][0]<n[0][0]?-1:1}function f(t){var n=t.split("-");if(!(n.length>2))return 1===n.length?[+t,+t]:[+n[0],+n[1]]}function _(t){var n=p(t);return i(n)}function p(t){function n(t){var n=t[0],i=t[1],r=e+n-1,o=[e,r];if(e=r+1,Array.isArray(i))if(y(i)){var s=_(i);"function"==typeof s.roll&&(i=s.roll)}else i=v(i);return[o,i]}var e=0;return t.map(n)}function y(t){return Array.isArray(t)&&t.length>0&&Array.isArray(t[0])&&2===t[0].length&&"number"==typeof t[0][0]}function d(t,e){return!t||"number"!=typeof t.length||t.length<1?e:t[n(t.length)]}function v(t,n){return function(){return d(t,n)}}function x(t,n){var e=[];return t.forEach(function(t){n.forEach(function(n){Array.isArray(t)||Array.isArray(n)?e.push(t.concat(n)):e.push([t,n])})}),e}function m(t){return t.slice(1).reduce(x,t[0])}function g(t){for(var e,i=t.length,r=Array(i),o=0;o<i;o++)e=n(o+1),e!==o&&(r[o]=r[e]),r[e]=t[o];return r}function b(t,n){return g(t).slice(0,n)}var w=Math.random;return t&&t.random&&(w=t.random),{roll:n,rollDie:e,createRangeTable:i,createRangeTableFromDict:o,createTableFromDef:c,createTableFromSizes:_,convertDictToRangesAndOutcomePairs:s,pickFromArray:d,crossArrays:x,getCartesianProduct:m,shuffle:g,sample:b,randomFn:w}}var r=i();"object"==typeof n&&(n.exports=r,n.exports.createProbable=i)},{}],12:[function(t,n,e){"use strict";var i=String.prototype.replace,r=/%20/g;n.exports={default:"RFC3986",formatters:{RFC1738:function(t){return i.call(t,r,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},{}],13:[function(t,n,e){"use strict";var i=t("./stringify"),r=t("./parse"),o=t("./formats");n.exports={formats:o,parse:r,stringify:i}},{"./formats":12,"./parse":14,"./stringify":15}],14:[function(t,n,e){"use strict";var i=t("./utils"),r=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},s=function(t,n){for(var e={},i=t.split(n.delimiter,n.parameterLimit===1/0?void 0:n.parameterLimit),o=0;o<i.length;++o){
var s,a,u=i[o],c=u.indexOf("]=")===-1?u.indexOf("="):u.indexOf("]=")+1;c===-1?(s=n.decoder(u),a=n.strictNullHandling?null:""):(s=n.decoder(u.slice(0,c)),a=n.decoder(u.slice(c+1))),r.call(e,s)?e[s]=[].concat(e[s]).concat(a):e[s]=a}return e},a=function t(n,e,i){if(!n.length)return e;var r,o=n.shift();if("[]"===o)r=[],r=r.concat(t(n,e,i));else{r=i.plainObjects?Object.create(null):{};var s="["===o[0]&&"]"===o[o.length-1]?o.slice(1,o.length-1):o,a=parseInt(s,10);!isNaN(a)&&o!==s&&String(a)===s&&a>=0&&i.parseArrays&&a<=i.arrayLimit?(r=[],r[a]=t(n,e,i)):r[s]=t(n,e,i)}return r},u=function(t,n,e){if(t){var i=e.allowDots?t.replace(/\.([^\.\[]+)/g,"[$1]"):t,o=/^([^\[\]]*)/,s=/(\[[^\[\]]*\])/g,u=o.exec(i),c=[];if(u[1]){if(!e.plainObjects&&r.call(Object.prototype,u[1])&&!e.allowPrototypes)return;c.push(u[1])}for(var l=0;null!==(u=s.exec(i))&&l<e.depth;)l+=1,(e.plainObjects||!r.call(Object.prototype,u[1].replace(/\[|\]/g,""))||e.allowPrototypes)&&c.push(u[1]);return u&&c.push("["+i.slice(u.index)+"]"),a(c,n,e)}};n.exports=function(t,n){var e=n||{};if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(e.delimiter="string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:o.delimiter,e.depth="number"==typeof e.depth?e.depth:o.depth,e.arrayLimit="number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,e.parseArrays=e.parseArrays!==!1,e.decoder="function"==typeof e.decoder?e.decoder:o.decoder,e.allowDots="boolean"==typeof e.allowDots?e.allowDots:o.allowDots,e.plainObjects="boolean"==typeof e.plainObjects?e.plainObjects:o.plainObjects,e.allowPrototypes="boolean"==typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,e.parameterLimit="number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,e.strictNullHandling="boolean"==typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling,""===t||null===t||"undefined"==typeof t)return e.plainObjects?Object.create(null):{};for(var r="string"==typeof t?s(t,e):t,a=e.plainObjects?Object.create(null):{},c=Object.keys(r),l=0;l<c.length;++l){var h=c[l],f=u(h,r[h],e);a=i.merge(a,f,e)}return i.compact(a)}},{"./utils":16}],15:[function(t,n,e){"use strict";var i=t("./utils"),r=t("./formats"),o={brackets:function(t){return t+"[]"},indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},s=Date.prototype.toISOString,a={delimiter:"&",encode:!0,encoder:i.encode,serializeDate:function(t){return s.call(t)},skipNulls:!1,strictNullHandling:!1},u=function t(n,e,r,o,s,a,u,c,l,h,f){var _=n;if("function"==typeof u)_=u(e,_);else if(_ instanceof Date)_=h(_);else if(null===_){if(o)return a?a(e):e;_=""}if("string"==typeof _||"number"==typeof _||"boolean"==typeof _||i.isBuffer(_))return a?[f(a(e))+"="+f(a(_))]:[f(e)+"="+f(String(_))];var p=[];if("undefined"==typeof _)return p;var y;if(Array.isArray(u))y=u;else{var d=Object.keys(_);y=c?d.sort(c):d}for(var v=0;v<y.length;++v){var x=y[v];s&&null===_[x]||(p=Array.isArray(_)?p.concat(t(_[x],r(e,x),r,o,s,a,u,c,l,h,f)):p.concat(t(_[x],e+(l?"."+x:"["+x+"]"),r,o,s,a,u,c,l,h,f)))}return p};n.exports=function(t,n){var e=t,i=n||{},s="undefined"==typeof i.delimiter?a.delimiter:i.delimiter,c="boolean"==typeof i.strictNullHandling?i.strictNullHandling:a.strictNullHandling,l="boolean"==typeof i.skipNulls?i.skipNulls:a.skipNulls,h="boolean"==typeof i.encode?i.encode:a.encode,f=h?"function"==typeof i.encoder?i.encoder:a.encoder:null,_="function"==typeof i.sort?i.sort:null,p="undefined"!=typeof i.allowDots&&i.allowDots,y="function"==typeof i.serializeDate?i.serializeDate:a.serializeDate;if("undefined"==typeof i.format)i.format=r.default;else if(!Object.prototype.hasOwnProperty.call(r.formatters,i.format))throw new TypeError("Unknown format option provided.");var d,v,x=r.formatters[i.format];if(null!==i.encoder&&void 0!==i.encoder&&"function"!=typeof i.encoder)throw new TypeError("Encoder has to be a function.");"function"==typeof i.filter?(v=i.filter,e=v("",e)):Array.isArray(i.filter)&&(v=i.filter,d=v);var m=[];if("object"!=typeof e||null===e)return"";var g;g=i.arrayFormat in o?i.arrayFormat:"indices"in i?i.indices?"indices":"repeat":"indices";var b=o[g];d||(d=Object.keys(e)),_&&d.sort(_);for(var w=0;w<d.length;++w){var M=d[w];l&&null===e[M]||(m=m.concat(u(e[M],M,b,c,l,f,v,_,p,y,x)))}return m.join(s)}},{"./formats":12,"./utils":16}],16:[function(t,n,e){"use strict";var i=Object.prototype.hasOwnProperty,r=function(){for(var t=[],n=0;n<256;++n)t.push("%"+((n<16?"0":"")+n.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,n){for(var e=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)"undefined"!=typeof t[i]&&(e[i]=t[i]);return e},e.merge=function(t,n,r){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];t[n]=!0}return t}if("object"!=typeof t)return[t].concat(n);var o=t;return Array.isArray(t)&&!Array.isArray(n)&&(o=e.arrayToObject(t,r)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,o){i.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=e.merge(t[o],n,r):t.push(n):t[o]=n}),t):Object.keys(n).reduce(function(t,i){var o=n[i];return Object.prototype.hasOwnProperty.call(t,i)?t[i]=e.merge(t[i],o,r):t[i]=o,t},o)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(n){return t}},e.encode=function(t){if(0===t.length)return t;for(var n="string"==typeof t?t:String(t),e="",i=0;i<n.length;++i){var o=n.charCodeAt(i);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?e+=n.charAt(i):o<128?e+=r[o]:o<2048?e+=r[192|o>>6]+r[128|63&o]:o<55296||o>=57344?e+=r[224|o>>12]+r[128|o>>6&63]+r[128|63&o]:(i+=1,o=65536+((1023&o)<<10|1023&n.charCodeAt(i)),e+=r[240|o>>18]+r[128|o>>12&63]+r[128|o>>6&63]+r[128|63&o])}return e},e.compact=function(t,n){if("object"!=typeof t||null===t)return t;var i=n||[],r=i.indexOf(t);if(r!==-1)return i[r];if(i.push(t),Array.isArray(t)){for(var o=[],s=0;s<t.length;++s)t[s]&&"object"==typeof t[s]?o.push(e.compact(t[s],i)):"undefined"!=typeof t[s]&&o.push(t[s]);return o}var a=Object.keys(t);return a.forEach(function(n){t[n]=e.compact(t[n],i)}),t},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&"undefined"!=typeof t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},{}],17:[function(t,n,e){function i(t){function n(t,n){function e(e){var s=a(1*e/n),u=o*s;c.scrollTop=r+u,o<0&&c.scrollTop<=t?i():o>=0&&c.scrollTop>=t&&i(),e>n&&i()}var r=c.scrollTop,o=t-r;l=u(e)}function e(t,e){n(t.offsetTop,e)}function i(){l&&(l.stop(),l=null)}function o(){return null!==l}var s,a,u,c,l=null;return t&&(s=t.d3,a=t.easingFn,u=t.timer,c=t.root),s||r||(s=d3),{scrollTo:n,scrollToElement:e,stopScroll:i,isStillScrolling:o}}var r="object"==typeof n&&"object"==typeof n.exports;r&&(n.exports=i)},{}],18:[function(t,n,e){"use strict";function i(t){function n(t){var n=t.targetY;u.isStillScrolling()&&u.stopScroll(),u.scrollTo(n,e)}var e=t.scrollDuration,i=t.easingFnName,u=a({d3:r,easingFn:i?o[i]:o.easeLinear,timer:s,root:document.body});return{scrollTo:n,stopScroll:u.stopScroll}}var r=t("d3-selection"),o=t("d3-ease"),s=t("d3-timer").timer,a=t("simplescroll");n.exports=i},{"d3-ease":4,"d3-selection":6,"d3-timer":8,simplescroll:17}],19:[function(t,n,e){"use strict";function i(t){function n(t){return t-c/2}var e=t.flightSpecs,i=t.leftLimit,o=t.rightLimit,c=t.floorWidth;if(i!==o){var h=s({flightSpecs:e,leftLimit:i,rightLimit:o}),_=a(h),p=l.select(".stairs-layer"),y=p.selectAll(".stair-line").data(h,f());y.exit().remove(),y.enter().append("path").classed("stair-line",!0).merge(y).attr("d",r);var d=l.select(".floors-layer"),v=d.selectAll(".floor-line").data(_,u);v.exit().remove(),v.enter().append("rect").classed("floor-line",!0).attr("x",0).attr("height",c).attr("width","100%").merge(v).attr("y",n);var x=h[h.length-1],m=x.points[x.points.length-1],g=l.select("#board");return g.attr("height",m[1]),m}}function r(t){return p(t.points)}function o(t){var n=t.start,e=t.endNear,i=t.stepWidth,r=t.stepHeight,o=t.startHorizontally,s=t.endLeftLimit,a=t.endRightLimit;void 0===o&&(o=!0);var u=[],c=n,l=o,h=e[0]>n[0]?i:-i,f=e[1]>n[1]?r:-r;do u.push([c[0],c[1]]),c=l?[c[0]+h,c[1]]:[c[0],c[1]+f],l=!l;while((h>0?c[0]<=e[0]:c[0]>=e[0])&&c[0]<=a&&c[0]>=s&&(f>0?c[1]<=e[1]:c[1]>=e[1]));return u}function s(t){function n(t,n){var i={stepWidth:t.stepWidth,stepHeight:t.stepHeight,startHorizontally:t.startHorizontally,endLeftLimit:r,endRightLimit:s};n>0?i.start=e:i.start=[0,0],isNaN(t.overrideStartX)||(i.start[0]=t.overrideStartX),isNaN(t.overrideStartY)||(i.start[1]=t.overrideStartY),i.endNear=c(i.start,t.vector);var a={id:"stairs-"+t.id,points:o(i),floorAtTop:t.floorAtTop};return e=_(a.points[a.points.length-1]),a}var e,i=t.flightSpecs,r=t.leftLimit,s=t.rightLimit;return i.map(n)}function a(t){function n(t){t.floorAtTop&&e.push(t.points[0][1])}var e=[];return t.forEach(n),e}function u(t){return t}function c(t,n){return[t[0]+n[0],t[1]+n[1]]}var l=t("d3-selection"),h=t("d3-shape"),f=t("accessor"),_=t("lodash.clonedeep"),p=h.line();n.exports=i},{accessor:3,"d3-selection":6,"d3-shape":7,"lodash.clonedeep":10}],20:[function(t,n,e){"use strict";function i(t){function n(){u||window.requestAnimationFrame(e)}function e(){document.body.scrollHeight-window.scrollY<=window.innerHeight&&(u=!0,i(),u=!1)}var i=t.onScrolledToBottom,o=t.onMouseMove,s=t.onClick,a=t.onKeyUp,u=!1;window.onscroll=n,r.select(document).on("mousemove",o),r.select(document).on("click",s),r.select(document).on("keyup",a)}var r=t("d3-selection");n.exports=i},{"d3-selection":6}]},{},[1]);