!function t(n,e,i){function r(s,a){if(!e[s]){if(!n[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=e[s]={exports:{}};n[s][0].call(c.exports,function(t){var e=n[s][1][t];return r(e?e:t)},c,c.exports,t,n,e,i)}return e[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,n,e){"use strict";function i(){r.parse(window.location.hash.slice(1));o([{id:"one",vector:[400,400],stepWidth:40,stepHeight:40},{id:"two",vector:[-300,200],stepWidth:60,stepHeight:50}])}var r=t("qs"),o=t("./representers/render-stairs");!function(){i()}()},{"./representers/render-stairs":11,qs:7}],2:[function(t,n,e){function i(t){var n="id";return t&&"string"==typeof t&&(n=t),function(t){return t[n]}}"object"==typeof n&&"object"==typeof n.exports&&(n.exports=i)},{}],3:[function(t,n,e){!function(t,i){"object"==typeof e&&"undefined"!=typeof n?i(e):"function"==typeof define&&define.amd?define(["exports"],i):i(t.d3=t.d3||{})}(this,function(t){"use strict";function n(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function e(){return new n}var i=Math.PI,r=2*i,o=1e-6,s=r-o;n.prototype=e.prototype={constructor:n,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,i){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+i)},bezierCurveTo:function(t,n,e,i,r,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,n,e,r,s){t=+t,n=+n,e=+e,r=+r,s=+s;var a=this._x1,h=this._y1,u=e-t,c=r-n,l=a-t,_=h-n,f=l*l+_*_;if(s<0)throw new Error("negative radius: "+s);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>o)if(Math.abs(_*u-c*l)>o&&s){var p=e-a,y=r-h,d=u*u+c*c,x=p*p+y*y,v=Math.sqrt(d),m=Math.sqrt(f),g=s*Math.tan((i-Math.acos((d+f-x)/(2*v*m)))/2),w=g/m,b=g/v;Math.abs(w-1)>o&&(this._+="L"+(t+w*l)+","+(n+w*_)),this._+="A"+s+","+s+",0,0,"+ +(_*p>l*y)+","+(this._x1=t+b*u)+","+(this._y1=n+b*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,a,h,u){t=+t,n=+n,e=+e;var c=e*Math.cos(a),l=e*Math.sin(a),_=t+c,f=n+l,p=1^u,y=u?a-h:h-a;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+_+","+f:(Math.abs(this._x1-_)>o||Math.abs(this._y1-f)>o)&&(this._+="L"+_+","+f),e&&(y>s?this._+="A"+e+","+e+",0,1,"+p+","+(t-c)+","+(n-l)+"A"+e+","+e+",0,1,"+p+","+(this._x1=_)+","+(this._y1=f):(y<0&&(y=y%r+r),this._+="A"+e+","+e+",0,"+ +(y>=i)+","+p+","+(this._x1=t+e*Math.cos(h))+","+(this._y1=n+e*Math.sin(h))))},rect:function(t,n,e,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +i+"h"+-e+"Z"},toString:function(){return this._}},t.path=e,Object.defineProperty(t,"__esModule",{value:!0})})},{}],4:[function(t,n,e){!function(t,i){"object"==typeof e&&"undefined"!=typeof n?i(e):"function"==typeof define&&define.amd?define(["exports"],i):i(t.d3=t.d3||{})}(this,function(t){"use strict";function n(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===J&&n.documentElement.namespaceURI===J?n.createElement(t):n.createElementNS(e,t)}}function e(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function i(){return new r}function r(){this._="@"+(++et).toString(36)}function o(t,n,e){return t=s(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function s(n,e,i){return function(r){var o=t.event;t.event=r;try{n.call(this,this.__data__,e,i)}finally{t.event=o}}}function a(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}function h(t){return function(){var n=this.__on;if(n){for(var e,i=0,r=-1,o=n.length;i<o;++i)e=n[i],t.type&&e.type!==t.type||e.name!==t.name?n[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?n.length=r:delete this.__on}}}function u(t,n,e){var i=at.hasOwnProperty(t.type)?o:s;return function(r,o,s){var a,h=this.__on,u=i(n,o,s);if(h)for(var c=0,l=h.length;c<l;++c)if((a=h[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=u,a.capture=e),void(a.value=n);this.addEventListener(t.type,u,e),a={type:t.type,name:t.name,value:n,listener:u,capture:e},h?h.push(a):this.__on=[a]}}function c(n,e,i,r){var o=t.event;n.sourceEvent=t.event,t.event=n;try{return e.apply(i,r)}finally{t.event=o}}function l(){}function _(){return[]}function f(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function p(t,n,e,i,r,o){for(var s,a=0,h=n.length,u=o.length;a<u;++a)(s=n[a])?(s.__data__=o[a],i[a]=s):e[a]=new f(t,o[a]);for(;a<h;++a)(s=n[a])&&(r[a]=s)}function y(t,n,e,i,r,o,s){var a,h,u,c={},l=n.length,_=o.length,p=new Array(l);for(a=0;a<l;++a)(h=n[a])&&(p[a]=u=wt+s.call(h,h.__data__,a,n),u in c?r[a]=h:c[u]=h);for(a=0;a<_;++a)u=wt+s.call(t,o[a],a,o),(h=c[u])?(i[a]=h,h.__data__=o[a],c[u]=null):e[a]=new f(t,o[a]);for(a=0;a<l;++a)(h=n[a])&&c[p[a]]===h&&(r[a]=h)}function d(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function x(t){return function(){this.removeAttribute(t)}}function v(t){return function(){this.removeAttributeNS(t.space,t.local)}}function m(t,n){return function(){this.setAttribute(t,n)}}function g(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function w(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function b(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function T(t){return function(){this.style.removeProperty(t)}}function M(t,n,e){return function(){this.style.setProperty(t,n,e)}}function A(t,n,e){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function N(t){return function(){delete this[t]}}function S(t,n){return function(){this[t]=n}}function E(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function k(t){return t.trim().split(/^|\s+/)}function O(t){return t.classList||new P(t)}function P(t){this._node=t,this._names=k(t.getAttribute("class")||"")}function j(t,n){for(var e=O(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function C(t,n){for(var e=O(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function q(t){return function(){j(this,t)}}function L(t){return function(){C(this,t)}}function R(t,n){return function(){(n.apply(this,arguments)?j:C)(this,t)}}function D(){this.textContent=""}function H(t){return function(){this.textContent=t}}function z(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function B(){this.innerHTML=""}function I(t){return function(){this.innerHTML=t}}function F(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function X(){this.nextSibling&&this.parentNode.appendChild(this)}function U(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Y(){return null}function V(){var t=this.parentNode;t&&t.removeChild(this)}function W(t,n,e){var i=qt(t),r=i.CustomEvent;r?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function G(t,n){return function(){return W(this,t,n)}}function Z(t,n){return function(){return W(this,t,n.apply(this,arguments))}}function $(t,n){this._groups=t,this._parents=n}function Q(){return new $([[document.documentElement]],Wt)}var J="http://www.w3.org/1999/xhtml",K={svg:"http://www.w3.org/2000/svg",xhtml:J,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},tt=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),K.hasOwnProperty(n)?{space:K[n],local:t}:t},nt=function(t){var i=tt(t);return(i.local?e:n)(i)},et=0;r.prototype=i.prototype={constructor:r,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var it=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var rt=document.documentElement;if(!rt.matches){var ot=rt.webkitMatchesSelector||rt.msMatchesSelector||rt.mozMatchesSelector||rt.oMatchesSelector;it=function(t){return function(){return ot.call(this,t)}}}}var st=it,at={};if(t.event=null,"undefined"!=typeof document){var ht=document.documentElement;"onmouseenter"in ht||(at={mouseenter:"mouseover",mouseleave:"mouseout"})}var ut=function(t,n,e){var i,r,o=a(t+""),s=o.length;{if(!(arguments.length<2)){for(c=n?u:h,null==e&&(e=!1),i=0;i<s;++i)this.each(c(o[i],n,e));return this}var c=this.node().__on;if(c)for(var l,_=0,f=c.length;_<f;++_)for(i=0,l=c[_];i<s;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value}},ct=function(){for(var n,e=t.event;n=e.sourceEvent;)e=n;return e},lt=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop]},_t=function(t){var n=ct();return n.changedTouches&&(n=n.changedTouches[0]),lt(t,n)},ft=function(t){return null==t?l:function(){return this.querySelector(t)}},pt=function(t){"function"!=typeof t&&(t=ft(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o,s,a=n[r],h=a.length,u=i[r]=new Array(h),c=0;c<h;++c)(o=a[c])&&(s=t.call(o,o.__data__,c,a))&&("__data__"in o&&(s.__data__=o.__data__),u[c]=s);return new $(i,this._parents)},yt=function(t){return null==t?_:function(){return this.querySelectorAll(t)}},dt=function(t){"function"!=typeof t&&(t=yt(t));for(var n=this._groups,e=n.length,i=[],r=[],o=0;o<e;++o)for(var s,a=n[o],h=a.length,u=0;u<h;++u)(s=a[u])&&(i.push(t.call(s,s.__data__,u,a)),r.push(s));return new $(i,r)},xt=function(t){"function"!=typeof t&&(t=st(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o,s=n[r],a=s.length,h=i[r]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&h.push(o);return new $(i,this._parents)},vt=function(t){return new Array(t.length)},mt=function(){return new $(this._enter||this._groups.map(vt),this._parents)};f.prototype={constructor:f,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var gt=function(t){return function(){return t}},wt="$",bt=function(t,n){if(!t)return f=new Array(this.size()),u=-1,this.each(function(t){f[++u]=t}),f;var e=n?y:p,i=this._parents,r=this._groups;"function"!=typeof t&&(t=gt(t));for(var o=r.length,s=new Array(o),a=new Array(o),h=new Array(o),u=0;u<o;++u){var c=i[u],l=r[u],_=l.length,f=t.call(c,c&&c.__data__,u,i),d=f.length,x=a[u]=new Array(d),v=s[u]=new Array(d),m=h[u]=new Array(_);e(c,l,x,v,m,f,n);for(var g,w,b=0,T=0;b<d;++b)if(g=x[b]){for(b>=T&&(T=b+1);!(w=v[T])&&++T<d;);g._next=w||null}}return s=new $(s,i),s._enter=a,s._exit=h,s},Tt=function(){return new $(this._exit||this._groups.map(vt),this._parents)},Mt=function(t){for(var n=this._groups,e=t._groups,i=n.length,r=e.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var h,u=n[a],c=e[a],l=u.length,_=s[a]=new Array(l),f=0;f<l;++f)(h=u[f]||c[f])&&(_[f]=h);for(;a<i;++a)s[a]=n[a];return new $(s,this._parents)},At=function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i,r=t[n],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},Nt=function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=d);for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var s,a=e[o],h=a.length,u=r[o]=new Array(h),c=0;c<h;++c)(s=a[c])&&(u[c]=s);u.sort(n)}return new $(r,this._parents).order()},St=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Et=function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},kt=function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},Ot=function(){var t=0;return this.each(function(){++t}),t},Pt=function(){return!this.node()},jt=function(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r,o=n[e],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},Ct=function(t,n){var e=tt(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==n?e.local?v:x:"function"==typeof n?e.local?b:w:e.local?g:m)(e,n))},qt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Lt=function(t,n,e){var i;return arguments.length>1?this.each((null==n?T:"function"==typeof n?A:M)(t,n,null==e?"":e)):qt(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},Rt=function(t,n){return arguments.length>1?this.each((null==n?N:"function"==typeof n?E:S)(t,n)):this.node()[t]};P.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Dt=function(t,n){var e=k(t+"");if(arguments.length<2){for(var i=O(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof n?R:n?q:L)(e,n))},Ht=function(t){return arguments.length?this.each(null==t?D:("function"==typeof t?z:H)(t)):this.node().textContent},zt=function(t){return arguments.length?this.each(null==t?B:("function"==typeof t?F:I)(t)):this.node().innerHTML},Bt=function(){return this.each(X)},It=function(){return this.each(U)},Ft=function(t){var n="function"==typeof t?t:nt(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},Xt=function(t,n){var e="function"==typeof t?t:nt(t),i=null==n?Y:"function"==typeof n?n:ft(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},Ut=function(){return this.each(V)},Yt=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Vt=function(t,n){return this.each(("function"==typeof n?Z:G)(t,n))},Wt=[null];$.prototype=Q.prototype={constructor:$,select:pt,selectAll:dt,filter:xt,data:bt,enter:mt,exit:Tt,merge:Mt,order:At,sort:Nt,call:St,nodes:Et,node:kt,size:Ot,empty:Pt,each:jt,attr:Ct,style:Lt,property:Rt,classed:Dt,text:Ht,html:zt,raise:Bt,lower:It,append:Ft,insert:Xt,remove:Ut,datum:Yt,on:ut,dispatch:Vt};var Gt=function(t){return"string"==typeof t?new $([[document.querySelector(t)]],[document.documentElement]):new $([[t]],Wt)},Zt=function(t){return"string"==typeof t?new $([document.querySelectorAll(t)],[document.documentElement]):new $([null==t?[]:t],Wt)},$t=function(t,n,e){arguments.length<3&&(e=n,n=ct().changedTouches);for(var i,r=0,o=n?n.length:0;r<o;++r)if((i=n[r]).identifier===e)return lt(t,i);return null},Qt=function(t,n){null==n&&(n=ct().touches);for(var e=0,i=n?n.length:0,r=new Array(i);e<i;++e)r[e]=lt(t,n[e]);return r};t.creator=nt,t.local=i,t.matcher=st,t.mouse=_t,t.namespace=tt,t.namespaces=K,t.select=Gt,t.selectAll=Zt,t.selection=Q,t.selector=ft,t.selectorAll=yt,t.touch=$t,t.touches=Qt,t.window=qt,t.customEvent=c,Object.defineProperty(t,"__esModule",{value:!0})})},{}],5:[function(t,n,e){!function(i,r){"object"==typeof e&&"undefined"!=typeof n?r(e,t("d3-path")):"function"==typeof define&&define.amd?define(["exports","d3-path"],r):r(i.d3=i.d3||{},i.d3)}(this,function(t,n){"use strict";function e(t){return t.innerRadius}function i(t){return t.outerRadius}function r(t){return t.startAngle}function o(t){return t.endAngle}function s(t){return t&&t.padAngle}function a(t){return t>=1?Z:t<=-1?-Z:Math.asin(t)}function h(t,n,e,i,r,o,s,a){var h=e-t,u=i-n,c=s-r,l=a-o,_=(c*(n-o)-l*(t-r))/(l*h-c*u);return[t+_*h,n+_*u]}function u(t,n,e,i,r,o,s){var a=t-e,h=n-i,u=(s?o:-o)/Math.sqrt(a*a+h*h),c=u*h,l=-u*a,_=t+c,f=n+l,p=e+c,y=i+l,d=(_+p)/2,x=(f+y)/2,v=p-_,m=y-f,g=v*v+m*m,w=r-o,b=_*y-p*f,T=(m<0?-1:1)*Math.sqrt(Math.max(0,w*w*g-b*b)),M=(b*m-v*T)/g,A=(-b*v-m*T)/g,N=(b*m+v*T)/g,S=(-b*v+m*T)/g,E=M-d,k=A-x,O=N-d,P=S-x;return E*E+k*k>O*O+P*P&&(M=N,A=S),{cx:M,cy:A,x01:-c,y01:-l,x11:M*(r/w-1),y11:A*(r/w-1)}}function c(t){this._context=t}function l(t){return t[0]}function _(t){return t[1]}function f(t){this._curve=t}function p(t){function n(n){return new f(t(n))}return n._curve=t,n}function y(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(p(t)):n()._curve},t}function d(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function x(t){this._context=t}function v(t){this._context=t}function m(t){this._context=t}function g(t,n){this._basis=new x(t),this._beta=n}function w(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function b(t,n){this._context=t,this._k=(1-n)/6}function T(t,n){this._context=t,this._k=(1-n)/6}function M(t,n){this._context=t,this._k=(1-n)/6}function A(t,n,e){var i=t._x1,r=t._y1,o=t._x2,s=t._y2;if(t._l01_a>W){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>W){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-n*t._l12_2a)/c,s=(s*u+t._y1*t._l23_2a-e*t._l12_2a)/c}t._context.bezierCurveTo(i,r,o,s,t._x2,t._y2)}function N(t,n){this._context=t,this._alpha=n}function S(t,n){this._context=t,this._alpha=n}function E(t,n){this._context=t,this._alpha=n}function k(t){this._context=t}function O(t){return t<0?-1:1}function P(t,n,e){var i=t._x1-t._x0,r=n-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),s=(e-t._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(O(o)+O(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function j(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function C(t,n,e){var i=t._x0,r=t._y0,o=t._x1,s=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*n,o-a,s-a*e,o,s)}function q(t){this._context=t}function L(t){this._context=new R(t)}function R(t){this._context=t}function D(t){return new q(t)}function H(t){return new L(t)}function z(t){this._context=t}function B(t){var n,e,i=t.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],n=1;n<i-1;++n)r[n]=1,o[n]=4,s[n]=4*t[n]+2*t[n+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*t[i-1]+t[i],n=1;n<i;++n)e=r[n]/o[n-1],o[n]-=e,s[n]-=e*s[n-1];for(r[i-1]=s[i-1]/o[i-1],n=i-2;n>=0;--n)r[n]=(s[n]-r[n+1])/o[n];for(o[i-1]=(t[i]+r[i-1])/2,n=0;n<i-1;++n)o[n]=2*t[n+1]-r[n+1];return[r,o]}function I(t,n){this._context=t,this._t=n}function F(t){return new I(t,0)}function X(t){return new I(t,1)}function U(t,n){return t[n]}function Y(t){for(var n,e=0,i=-1,r=t.length;++i<r;)(n=+t[i][1])&&(e+=n);return e}var V=function(t){return function(){return t}},W=1e-12,G=Math.PI,Z=G/2,$=2*G,Q=function(){function t(){var t,e,i=+c.apply(this,arguments),r=+l.apply(this,arguments),o=p.apply(this,arguments)-Z,s=y.apply(this,arguments)-Z,v=Math.abs(s-o),m=s>o;if(x||(x=t=n.path()),r<i&&(e=r,r=i,i=e),r>W)if(v>$-W)x.moveTo(r*Math.cos(o),r*Math.sin(o)),x.arc(0,0,r,o,s,!m),i>W&&(x.moveTo(i*Math.cos(s),i*Math.sin(s)),x.arc(0,0,i,s,o,m));else{var g,w,b=o,T=s,M=o,A=s,N=v,S=v,E=d.apply(this,arguments)/2,k=E>W&&(f?+f.apply(this,arguments):Math.sqrt(i*i+r*r)),O=Math.min(Math.abs(r-i)/2,+_.apply(this,arguments)),P=O,j=O;if(k>W){var C=a(k/i*Math.sin(E)),q=a(k/r*Math.sin(E));(N-=2*C)>W?(C*=m?1:-1,M+=C,A-=C):(N=0,M=A=(o+s)/2),(S-=2*q)>W?(q*=m?1:-1,b+=q,T-=q):(S=0,b=T=(o+s)/2)}var L=r*Math.cos(b),R=r*Math.sin(b),D=i*Math.cos(A),H=i*Math.sin(A);if(O>W){var z=r*Math.cos(T),B=r*Math.sin(T),I=i*Math.cos(M),F=i*Math.sin(M);if(v<G){var X=N>W?h(L,R,I,F,z,B,D,H):[D,H],U=L-X[0],Y=R-X[1],V=z-X[0],Q=B-X[1],J=1/Math.sin(Math.acos((U*V+Y*Q)/(Math.sqrt(U*U+Y*Y)*Math.sqrt(V*V+Q*Q)))/2),K=Math.sqrt(X[0]*X[0]+X[1]*X[1]);P=Math.min(O,(i-K)/(J-1)),j=Math.min(O,(r-K)/(J+1))}}S>W?j>W?(g=u(I,F,L,R,r,j,m),w=u(z,B,D,H,r,j,m),x.moveTo(g.cx+g.x01,g.cy+g.y01),j<O?x.arc(g.cx,g.cy,j,Math.atan2(g.y01,g.x01),Math.atan2(w.y01,w.x01),!m):(x.arc(g.cx,g.cy,j,Math.atan2(g.y01,g.x01),Math.atan2(g.y11,g.x11),!m),x.arc(0,0,r,Math.atan2(g.cy+g.y11,g.cx+g.x11),Math.atan2(w.cy+w.y11,w.cx+w.x11),!m),x.arc(w.cx,w.cy,j,Math.atan2(w.y11,w.x11),Math.atan2(w.y01,w.x01),!m))):(x.moveTo(L,R),x.arc(0,0,r,b,T,!m)):x.moveTo(L,R),i>W&&N>W?P>W?(g=u(D,H,z,B,i,-P,m),w=u(L,R,I,F,i,-P,m),x.lineTo(g.cx+g.x01,g.cy+g.y01),P<O?x.arc(g.cx,g.cy,P,Math.atan2(g.y01,g.x01),Math.atan2(w.y01,w.x01),!m):(x.arc(g.cx,g.cy,P,Math.atan2(g.y01,g.x01),Math.atan2(g.y11,g.x11),!m),x.arc(0,0,i,Math.atan2(g.cy+g.y11,g.cx+g.x11),Math.atan2(w.cy+w.y11,w.cx+w.x11),m),x.arc(w.cx,w.cy,P,Math.atan2(w.y11,w.x11),Math.atan2(w.y01,w.x01),!m))):x.arc(0,0,i,A,M,m):x.lineTo(D,H)}else x.moveTo(0,0);if(x.closePath(),t)return x=null,t+""||null}var c=e,l=i,_=V(0),f=null,p=r,y=o,d=s,x=null;return t.centroid=function(){var t=(+c.apply(this,arguments)+ +l.apply(this,arguments))/2,n=(+p.apply(this,arguments)+ +y.apply(this,arguments))/2-G/2;return[Math.cos(n)*t,Math.sin(n)*t]},t.innerRadius=function(n){return arguments.length?(c="function"==typeof n?n:V(+n),t):c},t.outerRadius=function(n){return arguments.length?(l="function"==typeof n?n:V(+n),t):l},t.cornerRadius=function(n){return arguments.length?(_="function"==typeof n?n:V(+n),t):_},t.padRadius=function(n){return arguments.length?(f=null==n?null:"function"==typeof n?n:V(+n),t):f},t.startAngle=function(n){return arguments.length?(p="function"==typeof n?n:V(+n),t):p},t.endAngle=function(n){return arguments.length?(y="function"==typeof n?n:V(+n),t):y},t.padAngle=function(n){return arguments.length?(d="function"==typeof n?n:V(+n),t):d},t.context=function(n){return arguments.length?(x=null==n?null:n,t):x},t};c.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var J=function(t){return new c(t)},K=function(){function t(t){var h,u,c,l=t.length,_=!1;for(null==o&&(a=s(c=n.path())),h=0;h<=l;++h)!(h<l&&r(u=t[h],h,t))===_&&((_=!_)?a.lineStart():a.lineEnd()),_&&a.point(+e(u,h,t),+i(u,h,t));if(c)return a=null,c+""||null}var e=l,i=_,r=V(!0),o=null,s=J,a=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:V(+n),t):e},t.y=function(n){return arguments.length?(i="function"==typeof n?n:V(+n),t):i},t.defined=function(n){return arguments.length?(r="function"==typeof n?n:V(!!n),t):r},t.curve=function(n){return arguments.length?(s=n,null!=o&&(a=s(o)),t):s},t.context=function(n){return arguments.length?(null==n?o=a=null:a=s(o=n),t):o},t},tt=function(){function t(t){var e,l,_,f,p,y=t.length,d=!1,x=new Array(y),v=new Array(y);for(null==h&&(c=u(p=n.path())),e=0;e<=y;++e){if(!(e<y&&a(f=t[e],e,t))===d)if(d=!d)l=e,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),_=e-1;_>=l;--_)c.point(x[_],v[_]);c.lineEnd(),c.areaEnd()}d&&(x[e]=+i(f,e,t),v[e]=+o(f,e,t),c.point(r?+r(f,e,t):x[e],s?+s(f,e,t):v[e]))}if(p)return c=null,p+""||null}function e(){return K().defined(a).curve(u).context(h)}var i=l,r=null,o=V(0),s=_,a=V(!0),h=null,u=J,c=null;return t.x=function(n){return arguments.length?(i="function"==typeof n?n:V(+n),r=null,t):i},t.x0=function(n){return arguments.length?(i="function"==typeof n?n:V(+n),t):i},t.x1=function(n){return arguments.length?(r=null==n?null:"function"==typeof n?n:V(+n),t):r},t.y=function(n){return arguments.length?(o="function"==typeof n?n:V(+n),s=null,t):o},t.y0=function(n){return arguments.length?(o="function"==typeof n?n:V(+n),t):o},t.y1=function(n){return arguments.length?(s=null==n?null:"function"==typeof n?n:V(+n),t):s},t.lineX0=t.lineY0=function(){return e().x(i).y(o)},t.lineY1=function(){return e().x(i).y(s)},t.lineX1=function(){return e().x(r).y(o)},t.defined=function(n){return arguments.length?(a="function"==typeof n?n:V(!!n),t):a},t.curve=function(n){return arguments.length?(u=n,null!=h&&(c=u(h)),t):u},t.context=function(n){return arguments.length?(null==n?h=c=null:c=u(h=n),t):h},t},nt=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},et=function(t){return t},it=function(){function t(t){var a,h,u,c,l,_=t.length,f=0,p=new Array(_),y=new Array(_),d=+r.apply(this,arguments),x=Math.min($,Math.max(-$,o.apply(this,arguments)-d)),v=Math.min(Math.abs(x)/_,s.apply(this,arguments)),m=v*(x<0?-1:1);for(a=0;a<_;++a)(l=y[p[a]=a]=+n(t[a],a,t))>0&&(f+=l);for(null!=e?p.sort(function(t,n){return e(y[t],y[n])}):null!=i&&p.sort(function(n,e){return i(t[n],t[e])}),a=0,u=f?(x-_*m)/f:0;a<_;++a,d=c)h=p[a],l=y[h],c=d+(l>0?l*u:0)+m,y[h]={data:t[h],index:a,value:l,startAngle:d,endAngle:c,padAngle:v};return y}var n=et,e=nt,i=null,r=V(0),o=V($),s=V(0);return t.value=function(e){return arguments.length?(n="function"==typeof e?e:V(+e),t):n},t.sortValues=function(n){return arguments.length?(e=n,i=null,t):e},t.sort=function(n){return arguments.length?(i=n,e=null,t):i},t.startAngle=function(n){return arguments.length?(r="function"==typeof n?n:V(+n),t):r},t.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:V(+n),t):o},t.padAngle=function(n){return arguments.length?(s="function"==typeof n?n:V(+n),t):s},t},rt=p(J);f.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var ot=function(){return y(K().curve(rt))},st=function(){var t=tt().curve(rt),n=t.curve,e=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return y(e())},delete t.lineX0,t.lineEndAngle=function(){return y(i())},delete t.lineX1,t.lineInnerRadius=function(){return y(r())},delete t.lineY0,t.lineOuterRadius=function(){return y(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(p(t)):n()._curve},t},at={draw:function(t,n){var e=Math.sqrt(n/G);t.moveTo(e,0),t.arc(0,0,e,0,$)}},ht={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},ut=Math.sqrt(1/3),ct=2*ut,lt={draw:function(t,n){var e=Math.sqrt(n/ct),i=e*ut;t.moveTo(0,-e),t.lineTo(i,0),t.lineTo(0,e),t.lineTo(-i,0),t.closePath()}},_t=.8908130915292852,ft=Math.sin(G/10)/Math.sin(7*G/10),pt=Math.sin($/10)*ft,yt=-Math.cos($/10)*ft,dt={draw:function(t,n){var e=Math.sqrt(n*_t),i=pt*e,r=yt*e;t.moveTo(0,-e),t.lineTo(i,r);for(var o=1;o<5;++o){var s=$*o/5,a=Math.cos(s),h=Math.sin(s);t.lineTo(h*e,-a*e),t.lineTo(a*i-h*r,h*i+a*r)}t.closePath()}},xt={draw:function(t,n){var e=Math.sqrt(n),i=-e/2;t.rect(i,i,e,e)}},vt=Math.sqrt(3),mt={draw:function(t,n){var e=-Math.sqrt(n/(3*vt));t.moveTo(0,2*e),t.lineTo(-vt*e,-e),t.lineTo(vt*e,-e),t.closePath()}},gt=-.5,wt=Math.sqrt(3)/2,bt=1/Math.sqrt(12),Tt=3*(bt/2+1),Mt={draw:function(t,n){var e=Math.sqrt(n/Tt),i=e/2,r=e*bt,o=i,s=e*bt+e,a=-o,h=s;t.moveTo(i,r),t.lineTo(o,s),t.lineTo(a,h),t.lineTo(gt*i-wt*r,wt*i+gt*r),t.lineTo(gt*o-wt*s,wt*o+gt*s),t.lineTo(gt*a-wt*h,wt*a+gt*h),t.lineTo(gt*i+wt*r,gt*r-wt*i),t.lineTo(gt*o+wt*s,gt*s-wt*o),t.lineTo(gt*a+wt*h,gt*h-wt*a),t.closePath()}},At=[at,ht,lt,xt,dt,mt,Mt],Nt=function(){function t(){var t;if(r||(r=t=n.path()),e.apply(this,arguments).draw(r,+i.apply(this,arguments)),t)return r=null,t+""||null}var e=V(at),i=V(64),r=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:V(n),t):e},t.size=function(n){return arguments.length?(i="function"==typeof n?n:V(+n),t):i},t.context=function(n){return arguments.length?(r=null==n?null:n,t):r},t},St=function(){};x.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:d(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:d(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var Et=function(t){return new x(t)};v.prototype={areaStart:St,areaEnd:St,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:d(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var kt=function(t){return new v(t)};m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break;case 3:this._point=4;default:d(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var Ot=function(t){return new m(t)};g.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var i,r=t[0],o=n[0],s=t[e]-r,a=n[e]-o,h=-1;++h<=e;)i=h/e,this._basis.point(this._beta*t[h]+(1-this._beta)*(r+i*s),this._beta*n[h]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Pt=function t(n){function e(t){return 1===n?new x(t):new g(t,n)}return e.beta=function(n){return t(+n)},e}(.85);b.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN;
},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:w(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:w(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var jt=function t(n){function e(t){return new b(t,n)}return e.tension=function(n){return t(+n)},e}(0);T.prototype={areaStart:St,areaEnd:St,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:w(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Ct=function t(n){function e(t){return new T(t,n)}return e.tension=function(n){return t(+n)},e}(0);M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:w(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var qt=function t(n){function e(t){return new M(t,n)}return e.tension=function(n){return t(+n)},e}(0);N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:A(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Lt=function t(n){function e(t){return n?new N(t,n):new b(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);S.prototype={areaStart:St,areaEnd:St,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:A(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Rt=function t(n){function e(t){return n?new S(t,n):new T(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:A(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Dt=function t(n){function e(t){return n?new E(t,n):new M(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);k.prototype={areaStart:St,areaEnd:St,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};var Ht=function(t){return new k(t)};q.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:C(this,this._t0,j(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,C(this,j(this,e=P(this,t,n)),e);break;default:C(this,this._t0,e=P(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(L.prototype=Object.create(q.prototype)).point=function(t,n){q.prototype.point.call(this,n,t)},R.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,i,r,o){this._context.bezierCurveTo(n,t,i,e,o,r)}},z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var i=B(t),r=B(n),o=0,s=1;s<e;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],n[s]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var zt=function(t){return new z(t)};I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var Bt=function(t){return new I(t,.5)},It=Array.prototype.slice,Ft=function(t,n){if((i=t.length)>1)for(var e,i,r=1,o=t[n[0]],s=o.length;r<i;++r){e=o,o=t[n[r]];for(var a=0;a<s;++a)o[a][1]+=o[a][0]=isNaN(e[a][1])?e[a][0]:e[a][1]}},Xt=function(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e},Ut=function(){function t(t){var o,s,a=n.apply(this,arguments),h=t.length,u=a.length,c=new Array(u);for(o=0;o<u;++o){for(var l,_=a[o],f=c[o]=new Array(h),p=0;p<h;++p)f[p]=l=[0,+r(t[p],_,p,t)],l.data=t[p];f.key=_}for(o=0,s=e(c);o<u;++o)c[s[o]].index=o;return i(c,s),c}var n=V([]),e=Xt,i=Ft,r=U;return t.keys=function(e){return arguments.length?(n="function"==typeof e?e:V(It.call(e)),t):n},t.value=function(n){return arguments.length?(r="function"==typeof n?n:V(+n),t):r},t.order=function(n){return arguments.length?(e=null==n?Xt:"function"==typeof n?n:V(It.call(n)),t):e},t.offset=function(n){return arguments.length?(i=null==n?Ft:n,t):i},t},Yt=function(t,n){if((i=t.length)>0){for(var e,i,r,o=0,s=t[0].length;o<s;++o){for(r=e=0;e<i;++e)r+=t[e][o][1]||0;if(r)for(e=0;e<i;++e)t[e][o][1]/=r}Ft(t,n)}},Vt=function(t,n){if((e=t.length)>0){for(var e,i=0,r=t[n[0]],o=r.length;i<o;++i){for(var s=0,a=0;s<e;++s)a+=t[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}Ft(t,n)}},Wt=function(t,n){if((r=t.length)>0&&(i=(e=t[n[0]]).length)>0){for(var e,i,r,o=0,s=1;s<i;++s){for(var a=0,h=0,u=0;a<r;++a){for(var c=t[n[a]],l=c[s][1]||0,_=c[s-1][1]||0,f=(l-_)/2,p=0;p<a;++p){var y=t[n[p]],d=y[s][1]||0,x=y[s-1][1]||0;f+=d-x}h+=l,u+=f*l}e[s-1][1]+=e[s-1][0]=o,h&&(o-=u/h)}e[s-1][1]+=e[s-1][0]=o,Ft(t,n)}},Gt=function(t){var n=t.map(Y);return Xt(t).sort(function(t,e){return n[t]-n[e]})},Zt=function(t){return Gt(t).reverse()},$t=function(t){var n,e,i=t.length,r=t.map(Y),o=Xt(t).sort(function(t,n){return r[n]-r[t]}),s=0,a=0,h=[],u=[];for(n=0;n<i;++n)e=o[n],s<a?(s+=r[e],h.push(e)):(a+=r[e],u.push(e));return u.reverse().concat(h)},Qt=function(t){return Xt(t).reverse()};t.arc=Q,t.area=tt,t.line=K,t.pie=it,t.radialArea=st,t.radialLine=ot,t.symbol=Nt,t.symbols=At,t.symbolCircle=at,t.symbolCross=ht,t.symbolDiamond=lt,t.symbolSquare=xt,t.symbolStar=dt,t.symbolTriangle=mt,t.symbolWye=Mt,t.curveBasisClosed=kt,t.curveBasisOpen=Ot,t.curveBasis=Et,t.curveBundle=Pt,t.curveCardinalClosed=Ct,t.curveCardinalOpen=qt,t.curveCardinal=jt,t.curveCatmullRomClosed=Rt,t.curveCatmullRomOpen=Dt,t.curveCatmullRom=Lt,t.curveLinearClosed=Ht,t.curveLinear=J,t.curveMonotoneX=D,t.curveMonotoneY=H,t.curveNatural=zt,t.curveStep=Bt,t.curveStepAfter=X,t.curveStepBefore=F,t.stack=Ut,t.stackOffsetExpand=Yt,t.stackOffsetNone=Ft,t.stackOffsetSilhouette=Vt,t.stackOffsetWiggle=Wt,t.stackOrderAscending=Gt,t.stackOrderDescending=Zt,t.stackOrderInsideOut=$t,t.stackOrderNone=Xt,t.stackOrderReverse=Qt,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-path":3}],6:[function(t,n,e){"use strict";var i=String.prototype.replace,r=/%20/g;n.exports={default:"RFC3986",formatters:{RFC1738:function(t){return i.call(t,r,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},{}],7:[function(t,n,e){"use strict";var i=t("./stringify"),r=t("./parse"),o=t("./formats");n.exports={formats:o,parse:r,stringify:i}},{"./formats":6,"./parse":8,"./stringify":9}],8:[function(t,n,e){"use strict";var i=t("./utils"),r=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},s=function(t,n){for(var e={},i=t.split(n.delimiter,n.parameterLimit===1/0?void 0:n.parameterLimit),o=0;o<i.length;++o){var s,a,h=i[o],u=h.indexOf("]=")===-1?h.indexOf("="):h.indexOf("]=")+1;u===-1?(s=n.decoder(h),a=n.strictNullHandling?null:""):(s=n.decoder(h.slice(0,u)),a=n.decoder(h.slice(u+1))),r.call(e,s)?e[s]=[].concat(e[s]).concat(a):e[s]=a}return e},a=function t(n,e,i){if(!n.length)return e;var r,o=n.shift();if("[]"===o)r=[],r=r.concat(t(n,e,i));else{r=i.plainObjects?Object.create(null):{};var s="["===o[0]&&"]"===o[o.length-1]?o.slice(1,o.length-1):o,a=parseInt(s,10);!isNaN(a)&&o!==s&&String(a)===s&&a>=0&&i.parseArrays&&a<=i.arrayLimit?(r=[],r[a]=t(n,e,i)):r[s]=t(n,e,i)}return r},h=function(t,n,e){if(t){var i=e.allowDots?t.replace(/\.([^\.\[]+)/g,"[$1]"):t,o=/^([^\[\]]*)/,s=/(\[[^\[\]]*\])/g,h=o.exec(i),u=[];if(h[1]){if(!e.plainObjects&&r.call(Object.prototype,h[1])&&!e.allowPrototypes)return;u.push(h[1])}for(var c=0;null!==(h=s.exec(i))&&c<e.depth;)c+=1,(e.plainObjects||!r.call(Object.prototype,h[1].replace(/\[|\]/g,""))||e.allowPrototypes)&&u.push(h[1]);return h&&u.push("["+i.slice(h.index)+"]"),a(u,n,e)}};n.exports=function(t,n){var e=n||{};if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(e.delimiter="string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:o.delimiter,e.depth="number"==typeof e.depth?e.depth:o.depth,e.arrayLimit="number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,e.parseArrays=e.parseArrays!==!1,e.decoder="function"==typeof e.decoder?e.decoder:o.decoder,e.allowDots="boolean"==typeof e.allowDots?e.allowDots:o.allowDots,e.plainObjects="boolean"==typeof e.plainObjects?e.plainObjects:o.plainObjects,e.allowPrototypes="boolean"==typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,e.parameterLimit="number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,e.strictNullHandling="boolean"==typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling,""===t||null===t||"undefined"==typeof t)return e.plainObjects?Object.create(null):{};for(var r="string"==typeof t?s(t,e):t,a=e.plainObjects?Object.create(null):{},u=Object.keys(r),c=0;c<u.length;++c){var l=u[c],_=h(l,r[l],e);a=i.merge(a,_,e)}return i.compact(a)}},{"./utils":10}],9:[function(t,n,e){"use strict";var i=t("./utils"),r=t("./formats"),o={brackets:function(t){return t+"[]"},indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},s=Date.prototype.toISOString,a={delimiter:"&",encode:!0,encoder:i.encode,serializeDate:function(t){return s.call(t)},skipNulls:!1,strictNullHandling:!1},h=function t(n,e,r,o,s,a,h,u,c,l,_){var f=n;if("function"==typeof h)f=h(e,f);else if(f instanceof Date)f=l(f);else if(null===f){if(o)return a?a(e):e;f=""}if("string"==typeof f||"number"==typeof f||"boolean"==typeof f||i.isBuffer(f))return a?[_(a(e))+"="+_(a(f))]:[_(e)+"="+_(String(f))];var p=[];if("undefined"==typeof f)return p;var y;if(Array.isArray(h))y=h;else{var d=Object.keys(f);y=u?d.sort(u):d}for(var x=0;x<y.length;++x){var v=y[x];s&&null===f[v]||(p=Array.isArray(f)?p.concat(t(f[v],r(e,v),r,o,s,a,h,u,c,l,_)):p.concat(t(f[v],e+(c?"."+v:"["+v+"]"),r,o,s,a,h,u,c,l,_)))}return p};n.exports=function(t,n){var e=t,i=n||{},s="undefined"==typeof i.delimiter?a.delimiter:i.delimiter,u="boolean"==typeof i.strictNullHandling?i.strictNullHandling:a.strictNullHandling,c="boolean"==typeof i.skipNulls?i.skipNulls:a.skipNulls,l="boolean"==typeof i.encode?i.encode:a.encode,_=l?"function"==typeof i.encoder?i.encoder:a.encoder:null,f="function"==typeof i.sort?i.sort:null,p="undefined"!=typeof i.allowDots&&i.allowDots,y="function"==typeof i.serializeDate?i.serializeDate:a.serializeDate;if("undefined"==typeof i.format)i.format=r.default;else if(!Object.prototype.hasOwnProperty.call(r.formatters,i.format))throw new TypeError("Unknown format option provided.");var d,x,v=r.formatters[i.format];if(null!==i.encoder&&void 0!==i.encoder&&"function"!=typeof i.encoder)throw new TypeError("Encoder has to be a function.");"function"==typeof i.filter?(x=i.filter,e=x("",e)):Array.isArray(i.filter)&&(x=i.filter,d=x);var m=[];if("object"!=typeof e||null===e)return"";var g;g=i.arrayFormat in o?i.arrayFormat:"indices"in i?i.indices?"indices":"repeat":"indices";var w=o[g];d||(d=Object.keys(e)),f&&d.sort(f);for(var b=0;b<d.length;++b){var T=d[b];c&&null===e[T]||(m=m.concat(h(e[T],T,w,u,c,_,x,f,p,y,v)))}return m.join(s)}},{"./formats":6,"./utils":10}],10:[function(t,n,e){"use strict";var i=Object.prototype.hasOwnProperty,r=function(){for(var t=[],n=0;n<256;++n)t.push("%"+((n<16?"0":"")+n.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,n){for(var e=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)"undefined"!=typeof t[i]&&(e[i]=t[i]);return e},e.merge=function(t,n,r){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];t[n]=!0}return t}if("object"!=typeof t)return[t].concat(n);var o=t;return Array.isArray(t)&&!Array.isArray(n)&&(o=e.arrayToObject(t,r)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,o){i.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=e.merge(t[o],n,r):t.push(n):t[o]=n}),t):Object.keys(n).reduce(function(t,i){var o=n[i];return Object.prototype.hasOwnProperty.call(t,i)?t[i]=e.merge(t[i],o,r):t[i]=o,t},o)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(n){return t}},e.encode=function(t){if(0===t.length)return t;for(var n="string"==typeof t?t:String(t),e="",i=0;i<n.length;++i){var o=n.charCodeAt(i);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?e+=n.charAt(i):o<128?e+=r[o]:o<2048?e+=r[192|o>>6]+r[128|63&o]:o<55296||o>=57344?e+=r[224|o>>12]+r[128|o>>6&63]+r[128|63&o]:(i+=1,o=65536+((1023&o)<<10|1023&n.charCodeAt(i)),e+=r[240|o>>18]+r[128|o>>12&63]+r[128|o>>6&63]+r[128|63&o])}return e},e.compact=function(t,n){if("object"!=typeof t||null===t)return t;var i=n||[],r=i.indexOf(t);if(r!==-1)return i[r];if(i.push(t),Array.isArray(t)){for(var o=[],s=0;s<t.length;++s)t[s]&&"object"==typeof t[s]?o.push(e.compact(t[s],i)):"undefined"!=typeof t[s]&&o.push(t[s]);return o}var a=Object.keys(t);return a.forEach(function(n){t[n]=e.compact(t[n],i)}),t},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&"undefined"!=typeof t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},{}],11:[function(t,n,e){"use strict";function i(t){var n=s(t),e=a.select(".wall-stairs-layer"),i=e.selectAll(".stair-line").data(n,u());i.exit().remove(),i.enter().append("path").classed("stair-line",!0).merge(i).attr("d",r)}function r(t){return c(o(t))}function o(t){var n=t.start,e=t.end,i=t.stepWidth,r=t.stepHeight,o=[],s=n,a=!0,h=e[0]>n[0]?i:-i,u=e[1]>n[1]?r:-r;do o.push(s),s=a?[s[0]+h,s[1]]:[s[0],s[1]+u],a=!a;while(s[0]<e[0]||s[1]<e[1]);return o}function s(t){function n(t){var n={id:"stairs-"+t.id,stepWidth:t.stepWidth,stepHeight:t.stepHeight};return e?(n.start=e.end,n.end=[e.end[0]+t.vector[0],e.end[1]+t.vector[1]]):(n.start=[0,0],n.end=t.vector),e=n,n}var e;return t.map(n)}var a=t("d3-selection"),h=t("d3-shape"),u=t("accessor"),c=h.line();n.exports=i},{accessor:2,"d3-selection":4,"d3-shape":5}]},{},[1]);